<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Lazyload Cached label(s) or a whole directory."><title>Lazyload Cache — lazyload_cache_dir • qwraps2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Lazyload Cache — lazyload_cache_dir"><meta property="og:description" content="Lazyload Cached label(s) or a whole directory."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">qwraps2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/qwraps2-data-sets.html">qwraps2 Data Sets</a>
    <a class="dropdown-item" href="../articles/qwraps2-graphics.html">Graphics in qwraps2</a>
    <a class="dropdown-item" href="../articles/summary-statistics.html">Formatted Summary Statistics and Data Summary Tables with qwraps2</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dewittpe/qwraps2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Lazyload Cache</h1>
      <small class="dont-index">Source: <a href="https://github.com/dewittpe/qwraps2/blob/HEAD/R/lazyload_cache.R" class="external-link"><code>R/lazyload_cache.R</code></a></small>
      <div class="d-none name"><code>lazyload_cache.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Lazyload Cached label(s) or a whole directory.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lazyload_cache_dir</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="st">"./cache"</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ask <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">lazyload_cache_labels</span><span class="op">(</span></span>
<span>  <span class="va">labels</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"./cache/"</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">filter</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>path</dt>
<dd><p>the path to the cache directory.</p></dd>


<dt>envir</dt>
<dd><p>the environment to load the objects into</p></dd>


<dt>ask</dt>
<dd><p>if TRUE ask the user to confirm loading each database found in
<code>path</code></p></dd>


<dt>verbose</dt>
<dd><p>if TRUE display the chunk labels being loaded</p></dd>


<dt>...</dt>
<dd><p>additional arguments passed to <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></code>.</p></dd>


<dt>labels</dt>
<dd><p>a character vector of the chunk labels to load.</p></dd>


<dt>filter</dt>
<dd><p>an optional function passed to <code>lazyLoad</code>.
when called on a character vector of object names returns a logical vector:
only objects for which this is true will be loaded.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>These functions helpful for loading cached chunks into an interactive R
session.  Consider the following scenario: you use knitr and have cached
chunks for lazyloading.  You've created the document, close up your IDE and
move on to the next project.  Later, you revisit the initial project and need
to retrieve the objects created in the cached chunks.  One option is to
reevaluate all the code, but this could be time consuming.  The other option
is to use <code>lazyload_cache_labels</code> or <code>lazyload_cache_dir</code> to
quickly (lazy)load the chunks into an active R session.</p>
<p>Use <code>lazyload_cache_dir</code> to load a whole directory of cached objects.</p>
<p>Use <code>lazyload_cache_labels</code> to load and explicit set of cached chunks.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># this example is based on \url{https://stackoverflow.com/a/41439691/1104685}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a temp directory for a and place a .Rmd file within</span></span></span>
<span class="r-in"><span><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/llcache_eg"</span><span class="op">)</span>, mustWork <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tmprmd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"report"</span>, tmpdir <span class="op">=</span> <span class="va">tmpdir</span>, fileext <span class="op">=</span> <span class="st">"Rmd"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmpdir</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">oldwd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">tmpdir</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># build and example .Rmd file</span></span></span>
<span class="r-in"><span><span class="co"># note that the variable x is created in the first chunck and then over</span></span></span>
<span class="r-in"><span><span class="co"># written in the second chunk</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"---"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"title: \"A Report\""</span>,</span></span>
<span class="r-in"><span>    <span class="st">"output: html_document"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"---"</span>,</span></span>
<span class="r-in"><span>    <span class="st">""</span>,</span></span>
<span class="r-in"><span>    <span class="st">"```{r first-chunk, cache = TRUE}"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"mpg_by_wt_hp &lt;- lm(mpg ~ wt + hp, data = mtcars)"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"x_is_pi &lt;- pi"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"x &lt;- pi"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"```"</span>,</span></span>
<span class="r-in"><span>    <span class="st">""</span>,</span></span>
<span class="r-in"><span>    <span class="st">"```{r second-chunk, cache = TRUE}"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"mpg_by_wt_hp_am &lt;- lm(mpg ~ wt + hp + am, data = mtcars)"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"x_is_e &lt;- exp(1)"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"x &lt;- exp(1)"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"```"</span>,</span></span>
<span class="r-in"><span>    sep <span class="op">=</span> <span class="st">"\n"</span>,</span></span>
<span class="r-in"><span>    file <span class="op">=</span> <span class="va">tmprmd</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># knit the file.  evaluate the chuncks in a new environment so we can compare</span></span></span>
<span class="r-in"><span><span class="co"># the objects after loading the cache.</span></span></span>
<span class="r-in"><span><span class="va">kenv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">new.env</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">knit</a></span><span class="op">(</span>input <span class="op">=</span> <span class="va">tmprmd</span>, envir <span class="op">=</span> <span class="va">kenv</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> processing file: /tmp/RtmpGJDpXg/llcache_eg/report189045f43497Rmd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1/4               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2/4 [first-chunk] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3/4               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4/4 [second-chunk]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> output file: report189045f43497Rmd.txt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "report189045f43497Rmd.txt"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The objects defined in the .Rmd file are now in kenv</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="va">kenv</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mpg_by_wt_hp"    "mpg_by_wt_hp_am" "x"               "x_is_e"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "x_is_pi"        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># view the cache</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">tmpdir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cache/__packages"                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "cache/first-chunk_4e3140196fb03528521fad11269d001c.RData" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "cache/first-chunk_4e3140196fb03528521fad11269d001c.rdb"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "cache/first-chunk_4e3140196fb03528521fad11269d001c.rdx"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "cache/second-chunk_8e4f33e2310468ad8f108c019d707830.RData"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "cache/second-chunk_8e4f33e2310468ad8f108c019d707830.rdb"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "cache/second-chunk_8e4f33e2310468ad8f108c019d707830.rdx"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] "report189045f43497Rmd"                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [9] "report189045f43497Rmd.txt"                                </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create three more environment, and load only the first chunk into the</span></span></span>
<span class="r-in"><span><span class="co"># first, and the second chunck into the second, and then load all of the</span></span></span>
<span class="r-in"><span><span class="co"># cache into the third</span></span></span>
<span class="r-in"><span><span class="va">env1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">new.env</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">env2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">new.env</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">env3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">new.env</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">lazyload_cache_labels</span><span class="op">(</span>labels <span class="op">=</span> <span class="st">"first-chunk"</span>,</span></span>
<span class="r-in"><span>                      path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"/cache"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      envir <span class="op">=</span> <span class="va">env1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Lazyloading /tmp/RtmpGJDpXg/llcache_eg/cache/first-chunk_4e3140196fb03528521fad11269d001c</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">lazyload_cache_labels</span><span class="op">(</span>labels <span class="op">=</span> <span class="st">"second-chunk"</span>,</span></span>
<span class="r-in"><span>                      path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"/cache"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      envir <span class="op">=</span> <span class="va">env2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Lazyloading /tmp/RtmpGJDpXg/llcache_eg/cache/second-chunk_8e4f33e2310468ad8f108c019d707830</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">lazyload_cache_dir</span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"/cache"</span><span class="op">)</span>, envir <span class="op">=</span> <span class="va">env3</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Lazyloading: /tmp/RtmpGJDpXg/llcache_eg/cache/first-chunk</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Lazyloading: /tmp/RtmpGJDpXg/llcache_eg/cache/second-chunk</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Look at the conents of each of these environments</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="va">kenv</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mpg_by_wt_hp"    "mpg_by_wt_hp_am" "x"               "x_is_e"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "x_is_pi"        </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="va">env1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mpg_by_wt_hp" "x"            "x_is_pi"     </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="va">env2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mpg_by_wt_hp_am" "x"               "x_is_e"         </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="va">env3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mpg_by_wt_hp"    "mpg_by_wt_hp_am" "x"               "x_is_e"         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "x_is_pi"        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The regression models are only fitted once an should be the same in all the</span></span></span>
<span class="r-in"><span><span class="co"># environments where they exist, as should the variables x_is_e and x_is_pi</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">kenv</span><span class="op">$</span><span class="va">mpg_by_wt_hp</span>, <span class="va">env1</span><span class="op">$</span><span class="va">mpg_by_wt_hp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">env1</span><span class="op">$</span><span class="va">mpg_by_wt_hp</span>, <span class="va">env3</span><span class="op">$</span><span class="va">mpg_by_wt_hp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">kenv</span><span class="op">$</span><span class="va">mpg_by_wt_hp_am</span>, <span class="va">env2</span><span class="op">$</span><span class="va">mpg_by_wt_hp_am</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">env2</span><span class="op">$</span><span class="va">mpg_by_wt_hp_am</span>, <span class="va">env3</span><span class="op">$</span><span class="va">mpg_by_wt_hp_am</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The value of x, however, should be different in the differnet</span></span></span>
<span class="r-in"><span><span class="co"># environments.  For kenv, env2, and env3 the value should be exp(1) as that</span></span></span>
<span class="r-in"><span><span class="co"># was the last assignment value.  In env1 the value should be pi as that is</span></span></span>
<span class="r-in"><span><span class="co"># the only relevent assignment.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">kenv</span><span class="op">$</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">env1</span><span class="op">$</span><span class="va">x</span>, <span class="va">pi</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">env2</span><span class="op">$</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">env3</span><span class="op">$</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># cleanup</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">oldwd</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">tmpdir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Peter DeWitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

