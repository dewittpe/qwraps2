<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="qwraps2">
<title>Formatted Summary Statistics and Data Summary Tables with qwraps2 • qwraps2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Formatted Summary Statistics and Data Summary Tables with qwraps2">
<meta property="og:description" content="qwraps2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">qwraps2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/qwraps2-data-sets.html">qwraps2 Data Sets</a>
    <a class="dropdown-item" href="../articles/qwraps2-graphics.html">Graphics in qwraps2</a>
    <a class="dropdown-item" href="../articles/summary-statistics.html">Formatted Summary Statistics and Data Summary Tables with qwraps2</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dewittpe/qwraps2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Formatted Summary Statistics and Data Summary Tables with qwraps2</h1>
                        <h4 data-toc-skip class="author">Peter
DeWitt</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dewittpe/qwraps2/blob/HEAD/vignettes/summary-statistics.Rmd" class="external-link"><code>vignettes/summary-statistics.Rmd</code></a></small>
      <div class="d-none name"><code>summary-statistics.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dewittpe/qwraps2/" class="external-link">qwraps2</a></span><span class="op">)</span></span>
<span><span class="co"># define the markup language we are working in.</span></span>
<span><span class="co"># options(qwraps2_markup = "latex") is also supported.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>qwraps2_markup <span class="op">=</span> <span class="st">"markdown"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>It is common for a manuscript to require a data summary table. The
table might include simple summary statistics for the whole sample and
for subgroups. There are several tools available to build such tables.
In my opinion, though, most of those tools have nuances imposed by the
creators/authors such that other users need not only understand the
tool, but also think like the authors. I wrote this package to be as
flexible and general as possible. I hope you like these tools and will
be able to use them in your work.</p>
<p>This vignette presents the use of the
<code>summary_table`,`</code>qsummary<code>,</code> and
<code>qable</code> functions for quickly building data summary tables.
We will be using summary statistic functions,
<code>mean_sd`,`</code>median_iqr<code>,</code>
`<code>n_perc</code>,<code>and others, from</code><em><a href="https://cran.r-project.org/package=qwraps2" class="external-link">qwraps2</a></em>` as
well.</p>
<div class="section level3">
<h3 id="prerequisites-example-data-set">Prerequisites Example Data Set<a class="anchor" aria-label="anchor" href="#prerequisites-example-data-set"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dewittpe/qwraps2/" class="external-link">qwraps2</a></span><span class="op">)</span></span></code></pre></div>
<p>We will use the data set <code>mtcars2</code> for the examples
throughout this vignette data set for examples throughout this vignette.
<code>mtcars2</code> is a modified and extended version of the base R
data set
<code>mtcars` .` For details on the construction of the</code>mtcars2<code>data set please view the vignette:</code>vignette(“mtcars”,
package = “qwraps2”)``</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    32 obs. of  19 variables:</span></span>
<span><span class="co">##  $ make         : chr  "Mazda" "Mazda" "Datsun" "Hornet" ...</span></span>
<span><span class="co">##  $ model        : chr  "RX4" "RX4 Wag" "710" "4 Drive" ...</span></span>
<span><span class="co">##  $ mpg          : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</span></span>
<span><span class="co">##  $ disp         : num  160 160 108 258 360 ...</span></span>
<span><span class="co">##  $ hp           : num  110 110 93 110 175 105 245 62 95 123 ...</span></span>
<span><span class="co">##  $ drat         : num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...</span></span>
<span><span class="co">##  $ wt           : num  2.62 2.88 2.32 3.21 3.44 ...</span></span>
<span><span class="co">##  $ qsec         : num  16.5 17 18.6 19.4 17 ...</span></span>
<span><span class="co">##  $ cyl          : num  6 6 4 6 8 6 8 4 4 6 ...</span></span>
<span><span class="co">##  $ cyl_character: chr  "6 cylinders" "6 cylinders" "4 cylinders" "6 cylinders" ...</span></span>
<span><span class="co">##  $ cyl_factor   : Factor w/ 3 levels "6 cylinders",..: 1 1 2 1 3 1 3 2 2 1 ...</span></span>
<span><span class="co">##  $ vs           : num  0 0 1 1 0 1 0 1 1 1 ...</span></span>
<span><span class="co">##  $ engine       : Factor w/ 2 levels "V-shaped","straight": 1 1 2 2 1 2 1 2 2 2 ...</span></span>
<span><span class="co">##  $ am           : num  1 1 1 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ transmission : Factor w/ 2 levels "Automatic","Manual": 2 2 2 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ gear         : num  4 4 4 3 3 3 3 4 4 4 ...</span></span>
<span><span class="co">##  $ gear_factor  : Factor w/ 3 levels "3 forward gears",..: 2 2 2 1 1 1 1 2 2 2 ...</span></span>
<span><span class="co">##  $ carb         : num  4 4 1 1 2 1 4 2 2 4 ...</span></span>
<span><span class="co">##  $ test_date    : POSIXct, format: "1974-01-05" "1974-01-07" ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="review-of-summary-statistic-functions-and-formatting">Review of Summary Statistic Functions and Formatting<a class="anchor" aria-label="anchor" href="#review-of-summary-statistic-functions-and-formatting"></a>
</h2>
<div class="section level3">
<h3 id="means-and-standard-deviations">Means and Standard Deviations<a class="anchor" aria-label="anchor" href="#means-and-standard-deviations"></a>
</h3>
<p><code>mean_sd</code> returns the (arithmetic) mean and standard
deviation for numeric vector as a formatted character string. For
example, <code>mean_sd(mtcars2$mpg)</code> returns the formatted string
<code>20.09 &amp;plusmn; 6.03.</code> There are other options for
formatting character string:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">mpg</span><span class="op">)</span></span>
<span><span class="co">## [1] "20.09 &amp;plusmn; 6.03"</span></span>
<span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">mpg</span>, denote_sd <span class="op">=</span> <span class="st">"paren"</span><span class="op">)</span></span>
<span><span class="co">## [1] "20.09 (6.03)"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mean-and-confidence-intervals">Mean and Confidence intervals<a class="anchor" aria-label="anchor" href="#mean-and-confidence-intervals"></a>
</h3>
<p>If you need the mean and a confidence interval there is the function
<code>mean_ci`.` which returns a</code>qwraps2_mean_ci<code>object which is a named vector with the mean, lower confidence limit, and the upper confidence limit.   The printing method for</code>qwraps2_mean_ci<code>objects is a call to the</code>frmtci<code>function.  You an modify the formatting of printed result by adjusting the arguments pasted to</code>frmtci<code>.</code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mci</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mean_ci.html">mean_ci</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">mpg</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mci</span><span class="op">)</span></span>
<span><span class="co">##  'qwraps2_mean_ci' Named num [1:3] 20.1 18 22.2</span></span>
<span><span class="co">##  - attr(*, "names")= chr [1:3] "mean" "lcl" "ucl"</span></span>
<span><span class="co">##  - attr(*, "alpha")= num 0.05</span></span>
<span><span class="va">mci</span></span>
<span><span class="co">## [1] "20.09 (18.00, 22.18)"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mci</span>, show_level <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## [1] "20.09 (95% CI: 18.00, 22.18)"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="median-and-inner-quartile-range">Median and Inner Quartile Range<a class="anchor" aria-label="anchor" href="#median-and-inner-quartile-range"></a>
</h3>
<p>Similar to the <code>mean_sd</code> function, the
<code>median_iqr</code> returns the median and the inner quartile range
(IQR) of a data vector.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/median_iqr.html">median_iqr</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">mpg</span><span class="op">)</span></span>
<span><span class="co">## [1] "19.20 (15.43, 22.80)"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="count-and-percentages">Count and Percentages<a class="anchor" aria-label="anchor" href="#count-and-percentages"></a>
</h3>
<p>The <code>n_perc</code> function is the workhorse.
<code>n_perc0</code> is also provided for ease of use in the same way
that base R has <code>paste</code> and
<code>paste0` .`</code>n_perc<code>returns the n (%) with the percentage sign in the string,</code>n_perc0``
omits the percentage sign from the string. The latter is good for
tables, the former for in-line text.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/n_perc.html">n_perc</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">## [1] "11 (34.38%)"</span></span>
<span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">## [1] "11 (34)"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/n_perc.html">n_perc</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl_factor</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span>  <span class="co"># this returns 0 (0.00%)</span></span>
<span><span class="co">## [1] "0 (0.00%)"</span></span>
<span><span class="fu"><a href="../reference/n_perc.html">n_perc</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl_factor</span> <span class="op">==</span> <span class="st">"4 cylinders"</span><span class="op">)</span></span>
<span><span class="co">## [1] "11 (34.38%)"</span></span>
<span><span class="fu"><a href="../reference/n_perc.html">n_perc</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl_factor</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl_factor</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## [1] "11 (34.38%)"</span></span>
<span></span>
<span><span class="co"># The count and percentage of 4 or 6 cylinders vehicles in the data set is</span></span>
<span><span class="fu"><a href="../reference/n_perc.html">n_perc</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## [1] "18 (56.25%)"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="geometric-means-and-standard-deviations">Geometric Means and Standard Deviations<a class="anchor" aria-label="anchor" href="#geometric-means-and-standard-deviations"></a>
</h3>
<p>Let <span class="math inline">\(\left\{x_1, x_2, x_3, \ldots, x_n
\right\}\)</span> be a sample of size <span class="math inline">\(n\)</span> with <span class="math inline">\(x_i
&gt; 0\)</span> for all <span class="math inline">\(i.\)</span> Then the
geometric mean, <span class="math inline">\(\mu_g,\)</span> and
geometric standard deviation are</p>
<p><span class="math display">\[
\begin{equation}
  \mu_g = \left( \prod_{i = 1}^{n} x_i \right)^{\frac{1}{n}} = b^{
\sum_{i =
  1}^{n} \log_{b} x_i },
\end{equation}
\]</span> and <span class="math display">\[
\begin{equation}
  \sigma_g = b ^ {
  \sqrt{
    \frac{\sum_{i = 1}^{n} \left( \log_{b} \frac{x_i}{\mu_g}
\right)^2}{n}
  }
  }
\end{equation}
\]</span> or, for clarity, <span class="math display">\[
\begin{equation}
  \log_{b} \sigma_g =
  \sqrt{ \frac{\sum_{i = 1}^{n} \left( \log_{b} \frac{x_i}{\mu_g}
  \right)^2}{n}}
\end{equation}
\]</span></p>
<p>When looking for the geometric standard deviation in R, the simple
<code>exp(sd(log(x)))</code> is not exactly correct. The geometric
standard deviation uses <span class="math inline">\(n,\)</span> the full
sample size, in the denominator, where as the <code>sd</code> and
<code>var</code> functions in R use the denominator <span class="math inline">\(n - 1.\)</span> To get the geometric standard
deviation one should adjust the result by multiplying the variance by
<span class="math inline">\((n - 1) / n\)</span> or the standard
deviation by <span class="math inline">\(\sqrt{(n - 1) / n}.\)</span>
See the example below.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">6</span>, min <span class="op">=</span> <span class="fl">4</span>, max <span class="op">=</span> <span class="fl">70</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># geometric mean</span></span>
<span><span class="va">mu_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/prod.html" class="external-link">prod</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">**</span> <span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mu_g</span></span>
<span><span class="co">## [1] 46.50714</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## [1] 46.50714</span></span>
<span><span class="fl">1.2</span> <span class="op">**</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span>, base <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## [1] 46.50714</span></span>
<span></span>
<span><span class="co"># geometric standard deviation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>  <span class="co">## This is wrong</span></span>
<span><span class="co">## [1] 1.500247</span></span>
<span></span>
<span><span class="co"># these equations are correct</span></span>
<span><span class="va">sigma_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span> <span class="op">/</span> <span class="va">mu_g</span><span class="op">)</span> <span class="op">**</span> <span class="fl">2</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sigma_g</span></span>
<span><span class="co">## [1] 1.448151</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## [1] 1.448151</span></span></code></pre></div>
<p>The functions <code>gmean`,`</code>gvar<code>,</code> and
<code>gsd</code> provide the geometric mean, variance, and standard
deviation for a numeric vector.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gmean.html">gmean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">## [1] 46.50714</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="../reference/gmean.html">gmean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="va">mu_g</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="../reference/gmean.html">gvar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">## [1] 1.146958</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="../reference/gmean.html">gvar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="va">sigma_g</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># This is supposed to be FALSE</span></span>
<span><span class="co">## [1] "Mean relative difference: 0.8284385"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="../reference/gmean.html">gvar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">sigma_g</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="../reference/gmean.html">gsd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">## [1] 1.448151</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="../reference/gmean.html">gsd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="va">sigma_g</span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code></pre></div>
<p><code>gmean_sd</code> will provide a quick way for reporting the
geometric mean and geometric standard deviation in the same way that
<code>mean_sd</code> does for the arithmetic mean and arithmetic
standard deviation:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gmean_sd.html">gmean_sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">## [1] "46.51 &amp;plusmn; 1.45"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="building-a-data-summary-table">Building a Data Summary Table<a class="anchor" aria-label="anchor" href="#building-a-data-summary-table"></a>
</h2>
<p>Objective: build a table reporting summary statistics for some of the
variables in the <code>mtcars2</code> <code>data.frame</code> overall
and within subgroups. We’ll start with something very simple and build
up to something bigger.</p>
<p>Let’s report the min, max, and mean (sd) for continuous variables and
n (%) for categorical variables. We will report mpg, displacement
(disp), wt (weight), and gear overall and by number of cylinders and
transmission type.</p>
<p><strong>END USER VISIBLE CHANGE:</strong> for qwraps2 version before
0.4.2 the <code>summary_table</code> method relied on
<code>*[dplyr](https://cran.r-project.org/package=dplyr)*</code> verbs
for the implementation and end user specifications. This created several
limitations and required what could be considered a non-intuitive api
due to the use of the rlang data pronoun
<code>.data`.` Building a table with the summary based on a grouping, e.g., mpg by number of cylinders, was achieved by the use of</code>dplyr::group_by<code>to specify the group.  Further only one grouping variable was supported. Starting with version 0.5.0 the implementation of the</code>summary_table<code>and</code>qsummary<code>is based on base R methods.  The change in the implementation will make it easier for all users as the use of the tidyverse is no longer required or assumed.  The use of</code>dplyr::group_by``
is still supported, and has been improved.</p>
<p>There are two changes to the API for defining summaries: 1. Use of
the rlang data pronoun
<code>.data`.` is no longer recommend / supported. Version 0.5.3 a warning will be given noting that the use of the pronoun _might_ result in unexpected behavior. 2. A new function argument</code>by<code>as been added to the</code>summary_table<code>method such that the use of</code>dplyr::group_by``
is no longer needed.</p>
<p>The use of the <code>summary_table</code> use to define a summary,
that is, a list-of-lists of formulas for summarizing the data.frame.</p>
<p>The inner lists are named <code>formula</code>e defining the wanted
summary. The names are important, as they are used to label row groups
and row names in the table.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">our_summary1</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Miles Per Gallon"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"min"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            <span class="st">"max"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            <span class="st">"mean (sd)"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Displacement"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"min"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>,</span>
<span>            <span class="st">"median"</span>    <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>,</span>
<span>            <span class="st">"max"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>,</span>
<span>            <span class="st">"mean (sd)"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Weight (1000 lbs)"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"min"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span>,</span>
<span>            <span class="st">"max"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span>,</span>
<span>            <span class="st">"mean (sd)"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Forward Gears"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Three"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>            <span class="st">"Four"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>            <span class="st">"Five"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span>       <span class="op">)</span></span></code></pre></div>
<p>Building the table is done with a call to
<code>summary_table</code></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Overall</span></span>
<span><span class="va">whole</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">our_summary1</span><span class="op">)</span></span>
<span><span class="va">whole</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#qable(whole[[1]], rgroup = attr(whole[[1]], "rgroup"), rtitle = "r", cnames = )</span></span>
<span></span>
<span><span class="co">### By number of Cylinders</span></span>
<span><span class="va">by_cyl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, summaries <span class="op">=</span> <span class="va">our_summary1</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl_factor"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>$<code>6 cylinders</code></p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.74 ± 1.45</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">145</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">167.6</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">183.31 ± 41.56</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">2.62</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.12 ± 0.36</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
</tr>
</tbody>
</table>
<p>$<code>4 cylinders</code> [,1]<br>
[1,] “  ”<br>
[2,] “21.4”<br>
[3,] “33.9”<br>
[4,] “26.66 ± 4.51”<br>
[5,] “  ”<br>
[6,] “71.1”<br>
[7,] “108”<br>
[8,] “146.7”<br>
[9,] “105.14 ± 26.87” [10,] “  ”<br>
[11,] “1.513”<br>
[12,] “3.19”<br>
[13,] “2.29 ± 0.57”<br>
[14,] “  ”<br>
[15,] “1 (9)”<br>
[16,] “8 (73)”<br>
[17,] “2 (18)”</p>
<p>$<code>8 cylinders</code> [,1]<br>
[1,] “  ”<br>
[2,] “10.4”<br>
[3,] “19.2”<br>
[4,] “15.10 ± 2.56”<br>
[5,] “  ”<br>
[6,] “275.8”<br>
[7,] “350.5”<br>
[8,] “472”<br>
[9,] “353.10 ± 67.77” [10,] “  ”<br>
[11,] “3.17”<br>
[12,] “5.424”<br>
[13,] “4.00 ± 0.76”<br>
[14,] “  ”<br>
[15,] “12 (86)”<br>
[16,] “0 (0)”<br>
[17,] “2 (14)”</p>
<pre><code>                           6 cylinders (N = 7)                            </code></pre>
<p>[1,] “<strong>Miles Per Gallon</strong>” “  ” “  ”<br>
[2,] “   min” “17.8” “21.4”<br>
[3,] “   max” “21.4” “33.9”<br>
[4,] “   mean (sd)” “19.74 ± 1.45” “26.66 ± 4.51”<br>
[5,] “<strong>Displacement</strong>” “  ” “  ”<br>
[6,] “   min” “145” “71.1”<br>
[7,] “   median” “167.6” “108”<br>
[8,] “   max” “258” “146.7”<br>
[9,] “   mean (sd)” “183.31 ± 41.56” “105.14 ± 26.87” [10,]
“<strong>Weight (1000 lbs)</strong>” “  ” “  ”<br>
[11,] “   min” “2.62” “1.513”<br>
[12,] “   max” “3.46” “3.19”<br>
[13,] “   mean (sd)” “3.12 ± 0.36” “2.29 ± 0.57”<br>
[14,] “<strong>Forward Gears</strong>” “  ” “  ”<br>
[15,] “   Three” “2 (29)” “1 (9)”<br>
[16,] “   Four” “4 (57)” “8 (73)”<br>
[17,] “   Five” “1 (14)” “2 (18)”</p>
<p>[1,] “  ”<br>
[2,] “10.4”<br>
[3,] “19.2”<br>
[4,] “15.10 ± 2.56”<br>
[5,] “  ”<br>
[6,] “275.8”<br>
[7,] “350.5”<br>
[8,] “472”<br>
[9,] “353.10 ± 67.77” [10,] “  ”<br>
[11,] “3.17”<br>
[12,] “5.424”<br>
[13,] “4.00 ± 0.76”<br>
[14,] “  ”<br>
[15,] “12 (86)”<br>
[16,] “0 (0)”<br>
[17,] “2 (14)”</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_cyl</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="25%">
<col width="24%">
<col width="24%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>With the refactor of the <code>summary_table</code> method in version
0.5.0 it is easier to group by multiple variables. For example, getting
a column for combination of cylinders and transmission type:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_cyl_am</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, summaries <span class="op">=</span> <span class="va">our_summary1</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl_factor"</span>, <span class="st">"am"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## $`6 cylinders.0`</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## |                       |6 cylinders.0 (N = 4) |</span></span>
<span><span class="co">## |:----------------------|:---------------------|</span></span>
<span><span class="co">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.12 &amp;plusmn; 1.63   |</span></span>
<span><span class="co">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |167.6                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; median    |196.3                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |258                   |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |204.55 &amp;plusmn; 44.74 |</span></span>
<span><span class="co">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |3.215                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.39 &amp;plusmn; 0.12    |</span></span>
<span><span class="co">## |**Forward Gears**      |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Three     |2 (50)                |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Four      |2 (50)                |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Five      |0 (0)                 |</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`4 cylinders.0`</span></span>
<span><span class="co">##       [,1]                   </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [2,] "21.5"                 </span></span>
<span><span class="co">##  [3,] "24.4"                 </span></span>
<span><span class="co">##  [4,] "22.90 &amp;plusmn; 1.45"  </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [6,] "120.1"                </span></span>
<span><span class="co">##  [7,] "140.8"                </span></span>
<span><span class="co">##  [8,] "146.7"                </span></span>
<span><span class="co">##  [9,] "135.87 &amp;plusmn; 13.97"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [11,] "2.465"                </span></span>
<span><span class="co">## [12,] "3.19"                 </span></span>
<span><span class="co">## [13,] "2.94 &amp;plusmn; 0.41"   </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [15,] "1 (33)"               </span></span>
<span><span class="co">## [16,] "2 (67)"               </span></span>
<span><span class="co">## [17,] "0 (0)"                </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`8 cylinders.0`</span></span>
<span><span class="co">##       [,1]                   </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [2,] "10.4"                 </span></span>
<span><span class="co">##  [3,] "19.2"                 </span></span>
<span><span class="co">##  [4,] "15.05 &amp;plusmn; 2.77"  </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [6,] "275.8"                </span></span>
<span><span class="co">##  [7,] "355"                  </span></span>
<span><span class="co">##  [8,] "472"                  </span></span>
<span><span class="co">##  [9,] "357.62 &amp;plusmn; 71.82"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [11,] "3.435"                </span></span>
<span><span class="co">## [12,] "5.424"                </span></span>
<span><span class="co">## [13,] "4.10 &amp;plusmn; 0.77"   </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [15,] "12 (100)"             </span></span>
<span><span class="co">## [16,] "0 (0)"                </span></span>
<span><span class="co">## [17,] "0 (0)"                </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`6 cylinders.1`</span></span>
<span><span class="co">##       [,1]                  </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">##  [2,] "19.7"                </span></span>
<span><span class="co">##  [3,] "21"                  </span></span>
<span><span class="co">##  [4,] "20.57 &amp;plusmn; 0.75" </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">##  [6,] "145"                 </span></span>
<span><span class="co">##  [7,] "160"                 </span></span>
<span><span class="co">##  [8,] "160"                 </span></span>
<span><span class="co">##  [9,] "155.00 &amp;plusmn; 8.66"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">## [11,] "2.62"                </span></span>
<span><span class="co">## [12,] "2.875"               </span></span>
<span><span class="co">## [13,] "2.75 &amp;plusmn; 0.13"  </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">## [15,] "0 (0)"               </span></span>
<span><span class="co">## [16,] "2 (67)"              </span></span>
<span><span class="co">## [17,] "1 (33)"              </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`4 cylinders.1`</span></span>
<span><span class="co">##       [,1]                  </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">##  [2,] "21.4"                </span></span>
<span><span class="co">##  [3,] "33.9"                </span></span>
<span><span class="co">##  [4,] "28.07 &amp;plusmn; 4.48" </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">##  [6,] "71.1"                </span></span>
<span><span class="co">##  [7,] "87.05"               </span></span>
<span><span class="co">##  [8,] "121"                 </span></span>
<span><span class="co">##  [9,] "93.61 &amp;plusmn; 20.48"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">## [11,] "1.513"               </span></span>
<span><span class="co">## [12,] "2.78"                </span></span>
<span><span class="co">## [13,] "2.04 &amp;plusmn; 0.41"  </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">## [15,] "0 (0)"               </span></span>
<span><span class="co">## [16,] "6 (75)"              </span></span>
<span><span class="co">## [17,] "2 (25)"              </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`8 cylinders.1`</span></span>
<span><span class="co">##       [,1]                   </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [2,] "15"                   </span></span>
<span><span class="co">##  [3,] "15.8"                 </span></span>
<span><span class="co">##  [4,] "15.40 &amp;plusmn; 0.57"  </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [6,] "301"                  </span></span>
<span><span class="co">##  [7,] "326"                  </span></span>
<span><span class="co">##  [8,] "351"                  </span></span>
<span><span class="co">##  [9,] "326.00 &amp;plusmn; 35.36"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [11,] "3.17"                 </span></span>
<span><span class="co">## [12,] "3.57"                 </span></span>
<span><span class="co">## [13,] "3.37 &amp;plusmn; 0.28"   </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [15,] "0 (0)"                </span></span>
<span><span class="co">## [16,] "0 (0)"                </span></span>
<span><span class="co">## [17,] "2 (100)"              </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                                6 cylinders.0 (N = 4)                          </span></span>
<span><span class="co">##  [1,] "**Miles Per Gallon**"   "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [2,] "&amp;nbsp;&amp;nbsp; min"       "17.8"                  "21.5"                 </span></span>
<span><span class="co">##  [3,] "&amp;nbsp;&amp;nbsp; max"       "21.4"                  "24.4"                 </span></span>
<span><span class="co">##  [4,] "&amp;nbsp;&amp;nbsp; mean (sd)" "19.12 &amp;plusmn; 1.63"   "22.90 &amp;plusmn; 1.45"  </span></span>
<span><span class="co">##  [5,] "**Displacement**"       "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [6,] "&amp;nbsp;&amp;nbsp; min"       "167.6"                 "120.1"                </span></span>
<span><span class="co">##  [7,] "&amp;nbsp;&amp;nbsp; median"    "196.3"                 "140.8"                </span></span>
<span><span class="co">##  [8,] "&amp;nbsp;&amp;nbsp; max"       "258"                   "146.7"                </span></span>
<span><span class="co">##  [9,] "&amp;nbsp;&amp;nbsp; mean (sd)" "204.55 &amp;plusmn; 44.74" "135.87 &amp;plusmn; 13.97"</span></span>
<span><span class="co">## [10,] "**Weight (1000 lbs)**"  "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [11,] "&amp;nbsp;&amp;nbsp; min"       "3.215"                 "2.465"                </span></span>
<span><span class="co">## [12,] "&amp;nbsp;&amp;nbsp; max"       "3.46"                  "3.19"                 </span></span>
<span><span class="co">## [13,] "&amp;nbsp;&amp;nbsp; mean (sd)" "3.39 &amp;plusmn; 0.12"    "2.94 &amp;plusmn; 0.41"   </span></span>
<span><span class="co">## [14,] "**Forward Gears**"      "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [15,] "&amp;nbsp;&amp;nbsp; Three"     "2 (50)"                "1 (33)"               </span></span>
<span><span class="co">## [16,] "&amp;nbsp;&amp;nbsp; Four"      "2 (50)"                "2 (67)"               </span></span>
<span><span class="co">## [17,] "&amp;nbsp;&amp;nbsp; Five"      "0 (0)"                 "0 (0)"                </span></span>
<span><span class="co">##                                                                            </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">##  [2,] "10.4"                  "19.7"                 "21.4"                </span></span>
<span><span class="co">##  [3,] "19.2"                  "21"                   "33.9"                </span></span>
<span><span class="co">##  [4,] "15.05 &amp;plusmn; 2.77"   "20.57 &amp;plusmn; 0.75"  "28.07 &amp;plusmn; 4.48" </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">##  [6,] "275.8"                 "145"                  "71.1"                </span></span>
<span><span class="co">##  [7,] "355"                   "160"                  "87.05"               </span></span>
<span><span class="co">##  [8,] "472"                   "160"                  "121"                 </span></span>
<span><span class="co">##  [9,] "357.62 &amp;plusmn; 71.82" "155.00 &amp;plusmn; 8.66" "93.61 &amp;plusmn; 20.48"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">## [11,] "3.435"                 "2.62"                 "1.513"               </span></span>
<span><span class="co">## [12,] "5.424"                 "2.875"                "2.78"                </span></span>
<span><span class="co">## [13,] "4.10 &amp;plusmn; 0.77"    "2.75 &amp;plusmn; 0.13"   "2.04 &amp;plusmn; 0.41"  </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"         "&amp;nbsp;&amp;nbsp;"        </span></span>
<span><span class="co">## [15,] "12 (100)"              "0 (0)"                "0 (0)"               </span></span>
<span><span class="co">## [16,] "0 (0)"                 "2 (67)"               "6 (75)"              </span></span>
<span><span class="co">## [17,] "0 (0)"                 "1 (33)"               "2 (25)"              </span></span>
<span><span class="co">##                              </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [2,] "15"                   </span></span>
<span><span class="co">##  [3,] "15.8"                 </span></span>
<span><span class="co">##  [4,] "15.40 &amp;plusmn; 0.57"  </span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [6,] "301"                  </span></span>
<span><span class="co">##  [7,] "326"                  </span></span>
<span><span class="co">##  [8,] "351"                  </span></span>
<span><span class="co">##  [9,] "326.00 &amp;plusmn; 35.36"</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [11,] "3.17"                 </span></span>
<span><span class="co">## [12,] "3.57"                 </span></span>
<span><span class="co">## [13,] "3.37 &amp;plusmn; 0.28"   </span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [15,] "0 (0)"                </span></span>
<span><span class="co">## [16,] "0 (0)"                </span></span>
<span><span class="co">## [17,] "2 (100)"</span></span>
<span><span class="va">by_cyl_am</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## |                       |6 cylinders.0 (N = 4) |4 cylinders.0 (N = 3) |8 cylinders.0 (N = 12) |6 cylinders.1 (N = 3) |4 cylinders.1 (N = 8) |8 cylinders.1 (N = 2) |</span></span>
<span><span class="co">## |:----------------------|:---------------------|:---------------------|:----------------------|:---------------------|:---------------------|:---------------------|</span></span>
<span><span class="co">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |21.5                  |10.4                   |19.7                  |21.4                  |15                    |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |24.4                  |19.2                   |21                    |33.9                  |15.8                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.12 &amp;plusmn; 1.63   |22.90 &amp;plusmn; 1.45   |15.05 &amp;plusmn; 2.77    |20.57 &amp;plusmn; 0.75   |28.07 &amp;plusmn; 4.48   |15.40 &amp;plusmn; 0.57   |</span></span>
<span><span class="co">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |167.6                 |120.1                 |275.8                  |145                   |71.1                  |301                   |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; median    |196.3                 |140.8                 |355                    |160                   |87.05                 |326                   |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |258                   |146.7                 |472                    |160                   |121                   |351                   |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |204.55 &amp;plusmn; 44.74 |135.87 &amp;plusmn; 13.97 |357.62 &amp;plusmn; 71.82  |155.00 &amp;plusmn; 8.66  |93.61 &amp;plusmn; 20.48  |326.00 &amp;plusmn; 35.36 |</span></span>
<span><span class="co">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |3.215                 |2.465                 |3.435                  |2.62                  |1.513                 |3.17                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |3.19                  |5.424                  |2.875                 |2.78                  |3.57                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.39 &amp;plusmn; 0.12    |2.94 &amp;plusmn; 0.41    |4.10 &amp;plusmn; 0.77     |2.75 &amp;plusmn; 0.13    |2.04 &amp;plusmn; 0.41    |3.37 &amp;plusmn; 0.28    |</span></span>
<span><span class="co">## |**Forward Gears**      |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Three     |2 (50)                |1 (33)                |12 (100)               |0 (0)                 |0 (0)                 |0 (0)                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Four      |2 (50)                |2 (67)                |0 (0)                  |2 (67)                |6 (75)                |0 (0)                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Five      |0 (0)                 |0 (0)                 |0 (0)                  |1 (33)                |2 (25)                |2 (100)               |</span></span></code></pre></div>
<p>To report a table with both the whole sample summary and conditional
columns together:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">both</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">whole</span>, <span class="va">by_cyl</span><span class="op">)</span></span></code></pre></div>
<p>[[1]]</p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
</tr>
</tbody>
</table>
<p>[[2]] [,1] [,2] [,3]<br>
[1,] “  ” “  ” “  ”<br>
[2,] “17.8” “21.4” “10.4”<br>
[3,] “21.4” “33.9” “19.2”<br>
[4,] “19.74 ± 1.45” “26.66 ± 4.51” “15.10 ± 2.56”<br>
[5,] “  ” “  ” “  ”<br>
[6,] “145” “71.1” “275.8”<br>
[7,] “167.6” “108” “350.5”<br>
[8,] “258” “146.7” “472”<br>
[9,] “183.31 ± 41.56” “105.14 ± 26.87” “353.10 ± 67.77” [10,] “  ” “  ”
“  ”<br>
[11,] “2.62” “1.513” “3.17”<br>
[12,] “3.46” “3.19” “5.424”<br>
[13,] “3.12 ± 0.36” “2.29 ± 0.57” “4.00 ± 0.76”<br>
[14,] “  ” “  ” “  ”<br>
[15,] “2 (29)” “1 (9)” “12 (86)”<br>
[16,] “4 (57)” “8 (73)” “0 (0)”<br>
[17,] “1 (14)” “2 (18)” “2 (14)”</p>
<pre><code><span>                           <span class="fu"><a href="../reference/mtcars2.html">mtcars2</a></span> <span class="op">(</span>N <span class="op">=</span> <span class="fl">32</span><span class="op">)</span>                                </span></code></pre>
<p>[1,] “<strong>Miles Per Gallon</strong>” “  ” “  ”<br>
[2,] “   min” “10.4” “17.8”<br>
[3,] “   max” “33.9” “21.4”<br>
[4,] “   mean (sd)” “20.09 ± 6.03” “19.74 ± 1.45”<br>
[5,] “<strong>Displacement</strong>” “  ” “  ”<br>
[6,] “   min” “71.1” “145”<br>
[7,] “   median” “196.3” “167.6”<br>
[8,] “   max” “472” “258”<br>
[9,] “   mean (sd)” “230.72 ± 123.94” “183.31 ± 41.56” [10,]
“<strong>Weight (1000 lbs)</strong>” “  ” “  ”<br>
[11,] “   min” “1.513” “2.62”<br>
[12,] “   max” “5.424” “3.46”<br>
[13,] “   mean (sd)” “3.22 ± 0.98” “3.12 ± 0.36”<br>
[14,] “<strong>Forward Gears</strong>” “  ” “  ”<br>
[15,] “   Three” “15 (47)” “2 (29)”<br>
[16,] “   Four” “12 (38)” “4 (57)”<br>
[17,] “   Five” “5 (16)” “1 (14)”</p>
<p>[1,] “  ” “  ”<br>
[2,] “21.4” “10.4”<br>
[3,] “33.9” “19.2”<br>
[4,] “26.66 ± 4.51” “15.10 ± 2.56”<br>
[5,] “  ” “  ”<br>
[6,] “71.1” “275.8”<br>
[7,] “108” “350.5”<br>
[8,] “146.7” “472”<br>
[9,] “105.14 ± 26.87” “353.10 ± 67.77” [10,] “  ” “  ”<br>
[11,] “1.513” “3.17”<br>
[12,] “3.19” “5.424”<br>
[13,] “2.29 ± 0.57” “4.00 ± 0.76”<br>
[14,] “  ” “  ”<br>
[15,] “1 (9)” “12 (86)”<br>
[16,] “8 (73)” “0 (0)”<br>
[17,] “2 (18)” “2 (14)”</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">both</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="19%">
<col width="19%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>If you want to change the column names, do so via the
<code>cnames</code> argument to <code>qable</code> via the print method
for <code>qwraps2_summary_table</code> objects. Any argument that you
want to send to <code>qable</code> can be sent there when explicitly
using the <code>print</code> method for
<code>qwraps2_summary_table</code> objects.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">both</span>,</span>
<span>      rtitle <span class="op">=</span> <span class="st">"Summary Statistics"</span>,</span>
<span>      cnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Col 0"</span>, <span class="st">"Col 1"</span>, <span class="st">"Col 2"</span>, <span class="st">"Col 3"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="20%">
<col width="20%">
<col width="19%">
<col width="19%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="easy-building-of-the-summaries">Easy building of the summaries<a class="anchor" aria-label="anchor" href="#easy-building-of-the-summaries"></a>
</h3>
<p>The task of building the <code>summaries</code> list-of-lists can be
tedious. The function <code>qummaries</code> is designed to make it
easier. <code>qummaries</code> will use a set of predefined functions to
summarize numeric columns of a data.frame, a set of arguments to pass to
<code>n_perc</code> for categorical (character and factor)
variables.</p>
<p>By default, calling <code>summary_table</code> will use the default
summary metrics defined by
<code>qsummary`.` The purpose of</code>qsummary<code>is to provide the same summary for all numeric variables within a data.frame and a single style of summary for categorical variables within the data.frame.  For example, the default summary for a set of variables from the</code>mtcars2``
data set is</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">qsummary</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl_factor"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## $mpg</span></span>
<span><span class="co">## $mpg$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(mpg))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mpg$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(mpg)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mpg$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(mpg)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mpg$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(mpg))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cyl_factor</span></span>
<span><span class="co">## $cyl_factor$`6 cylinders`</span></span>
<span><span class="co">## ~qwraps2::n_perc(cyl_factor == "6 cylinders", digits = 0, show_symbol = FALSE)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cyl_factor$`4 cylinders`</span></span>
<span><span class="co">## ~qwraps2::n_perc(cyl_factor == "4 cylinders", digits = 0, show_symbol = FALSE)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cyl_factor$`8 cylinders`</span></span>
<span><span class="co">## ~qwraps2::n_perc(cyl_factor == "8 cylinders", digits = 0, show_symbol = FALSE)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt</span></span>
<span><span class="co">## $wt$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(wt))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(wt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(wt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(wt))</span></span></code></pre></div>
<p>That default summary is used for a table as follows:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl_factor"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="34%">
<col width="65%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2[, c(“mpg”, “cyl_factor”, “wt”)] (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">10.40</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">19.20 (15.43, 22.80)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">33.90</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7 (22)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11 (34)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14 (44)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.51</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">3.33 (2.58, 3.61)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.42</td>
</tr>
</tbody>
</table>
<p>Now, say we want to only report the minimum and maximum for each of
the numeric variables and for the categorical variables we want two show
the denominator for each category and for the percentage, to one digit
with the percent symbol in the table. Note that when defining the list
of numeric_summaries that the argument place holder is the
<code>%s</code> character.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_summary</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summary_table.html">qsummary</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl_factor"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>           numeric_summaries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Minimum"</span> <span class="op">=</span> <span class="st">"~ min(%s)"</span>,</span>
<span>                                    <span class="st">"Maximum"</span> <span class="op">=</span> <span class="st">"~ max(%s)"</span><span class="op">)</span>,</span>
<span>           n_perc_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span>, show_symbol <span class="op">=</span> <span class="cn">TRUE</span>, show_denom <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">new_summary</span><span class="op">)</span></span>
<span><span class="co">## List of 3</span></span>
<span><span class="co">##  $ mpg       :List of 2</span></span>
<span><span class="co">##   ..$ Minimum:Class 'formula'  language ~min(mpg)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ Maximum:Class 'formula'  language ~max(mpg)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##  $ cyl_factor:List of 3</span></span>
<span><span class="co">##   ..$ 6 cylinders:Class 'formula'  language ~qwraps2::n_perc(cyl_factor == "6 cylinders", digits = 1, show_symbol = TRUE,      show_denom = "always")</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ 4 cylinders:Class 'formula'  language ~qwraps2::n_perc(cyl_factor == "4 cylinders", digits = 1, show_symbol = TRUE,      show_denom = "always")</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ 8 cylinders:Class 'formula'  language ~qwraps2::n_perc(cyl_factor == "8 cylinders", digits = 1, show_symbol = TRUE,      show_denom = "always")</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##  $ wt        :List of 2</span></span>
<span><span class="co">##   ..$ Minimum:Class 'formula'  language ~min(wt)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ Maximum:Class 'formula'  language ~max(wt)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt;</span></span></code></pre></div>
<p>The resulting table is:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">new_summary</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/32 (21.9%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11/32 (34.4%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14/32 (43.8%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">5.424</td>
</tr>
</tbody>
</table>
<p>The summary can easily be used with a <code>by</code> argument</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">new_summary</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl_factor"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>$<code>6 cylinders</code></p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">17.8</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">21.4</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/7 (100.0%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">0/7 (0.0%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">0/7 (0.0%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">2.62</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">3.46</td>
</tr>
</tbody>
</table>
<p>$<code>4 cylinders</code> [,1]<br>
[1,] “  ”<br>
[2,] “21.4”<br>
[3,] “33.9”<br>
[4,] “  ”<br>
[5,] “0/11 (0.0%)”<br>
[6,] “11/11 (100.0%)” [7,] “0/11 (0.0%)”<br>
[8,] “  ”<br>
[9,] “1.513”<br>
[10,] “3.19”</p>
<p>$<code>8 cylinders</code> [,1]<br>
[1,] “  ”<br>
[2,] “10.4”<br>
[3,] “19.2”<br>
[4,] “  ”<br>
[5,] “0/14 (0.0%)”<br>
[6,] “0/14 (0.0%)”<br>
[7,] “14/14 (100.0%)” [8,] “  ”<br>
[9,] “3.17”<br>
[10,] “5.424”</p>
<pre><code>                             6 cylinders (N = 7)                 </code></pre>
<p>[1,] “<strong>mpg</strong>” “  ” “  ”<br>
[2,] “   Minimum” “17.8” “21.4”<br>
[3,] “   Maximum” “21.4” “33.9”<br>
[4,] “<strong>cyl_factor</strong>” “  ” “  ”<br>
[5,] “   6 cylinders” “7/7 (100.0%)” “0/11 (0.0%)”<br>
[6,] “   4 cylinders” “0/7 (0.0%)” “11/11 (100.0%)” [7,] “   8
cylinders” “0/7 (0.0%)” “0/11 (0.0%)”<br>
[8,] “<strong>wt</strong>” “  ” “  ”<br>
[9,] “   Minimum” “2.62” “1.513”<br>
[10,] “   Maximum” “3.46” “3.19”</p>
<p>[1,] “  ”<br>
[2,] “10.4”<br>
[3,] “19.2”<br>
[4,] “  ”<br>
[5,] “0/14 (0.0%)”<br>
[6,] “0/14 (0.0%)”<br>
[7,] “14/14 (100.0%)” [8,] “  ”<br>
[9,] “3.17”<br>
[10,] “5.424”</p>
<table class="table">
<colgroup>
<col width="28%">
<col width="22%">
<col width="24%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/7 (100.0%)</td>
<td align="left">0/11 (0.0%)</td>
<td align="left">0/14 (0.0%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">0/7 (0.0%)</td>
<td align="left">11/11 (100.0%)</td>
<td align="left">0/14 (0.0%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">0/7 (0.0%)</td>
<td align="left">0/11 (0.0%)</td>
<td align="left">14/14 (100.0%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="adding-p-values-to-a-summary-table">Adding P-values to a Summary Table<a class="anchor" aria-label="anchor" href="#adding-p-values-to-a-summary-table"></a>
</h3>
<p>Starting with qwraps2 version 0.6, the task of adding p-values to a
summary table has been made considerably easier. This is due to a change
in how the function <code>qable</code> generated the structured matrix.
Older versions of <code>qable</code> generated a structured matrix and
passed that matrix to <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable</a></code> and returned the
formatted character string. In version 0.6 <code>qable</code> was
changed to return the structured matrix and a separate print method was
added to make the call to `<code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable</a></code>.`</p>
<p>There are many different ways to format data summary tables. Adding
p-values to a table is just one thing that can be done in more than one
way. For example, if a row group reports the counts and percentages for
each level of a categorical variable across multiple (column) groups,
then I would argue that the p-value resulting from a chi square test or
a Fisher exact test would be best placed on the line of the table
labeling the row group. However, say we reported the minimum, median,
mean, and maximum with in a row group for one variable. The p-value from
a t-test, or other meaningful test for the difference in mean, I would
suggest should be reported on the line of the summary table for the
mean, not the row group itself.</p>
<p>With so many possibilities I have reserved construction of a p-value
column to be ad hoc. Perhaps an additional column wouldn’t be used and
the p-values are edited into row group labels, for example.</p>
<p>If you want to add a p-value column to a
<code>qwraps2_summary_table</code> object you can with some degree of
ease. Note that <code>qwraps2_summary_table</code> objects are just
character matrices.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">both</span><span class="op">)</span></span>
<span><span class="co">##  'qwraps2_qable' chr [1:17, 1:5] "**Miles Per Gallon**" "&amp;nbsp;&amp;nbsp; min" ...</span></span>
<span><span class="co">##  - attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   ..$ : NULL</span></span>
<span><span class="co">##   ..$ : chr [1:5] "" "mtcars2 (N = 32)" "6 cylinders (N = 7)" "4 cylinders (N = 11)" ...</span></span>
<span><span class="co">##  - attr(*, "markup")= chr "markdown"</span></span></code></pre></div>
<p>Let’s added p-values for testing the difference in the mean between
the three cylinder groups.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># difference in means</span></span>
<span><span class="va">mpvals</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">cyl_factor</span>,  data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">disp</span> <span class="op">~</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">wt</span> <span class="op">~</span> <span class="va">cyl_factor</span>,   data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         <span class="va">extract_fpvalue</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fisher test</span></span>
<span><span class="va">fpval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">gear</span>, <span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl_factor</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span><span class="op">)</span></span></code></pre></div>
<p>Adding the p-value column is done as follows:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">both</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">both</span>, <span class="st">"P-value"</span> <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## |                       |mtcars2 (N = 32)       |6 cylinders (N = 7)   |4 cylinders (N = 11)  |8 cylinders (N = 14)  |</span></span>
<span><span class="co">## |:----------------------|:----------------------|:---------------------|:---------------------|:---------------------|</span></span>
<span><span class="co">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |10.4                   |17.8                  |21.4                  |10.4                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |33.9                   |21.4                  |33.9                  |19.2                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |20.09 &amp;plusmn; 6.03    |19.74 &amp;plusmn; 1.45   |26.66 &amp;plusmn; 4.51   |15.10 &amp;plusmn; 2.56   |</span></span>
<span><span class="co">## |**Displacement**       |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |71.1                   |145                   |71.1                  |275.8                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; median    |196.3                  |167.6                 |108                   |350.5                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |472                    |258                   |146.7                 |472                   |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |230.72 &amp;plusmn; 123.94 |183.31 &amp;plusmn; 41.56 |105.14 &amp;plusmn; 26.87 |353.10 &amp;plusmn; 67.77 |</span></span>
<span><span class="co">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |1.513                  |2.62                  |1.513                 |3.17                  |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |5.424                  |3.46                  |3.19                  |5.424                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.22 &amp;plusmn; 0.98     |3.12 &amp;plusmn; 0.36    |2.29 &amp;plusmn; 0.57    |4.00 &amp;plusmn; 0.76    |</span></span>
<span><span class="co">## |**Forward Gears**      |&amp;nbsp;&amp;nbsp;           |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Three     |15 (47)                |2 (29)                |1 (9)                 |12 (86)               |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Four      |12 (38)                |4 (57)                |8 (73)                |0 (0)                 |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; Five      |5 (16)                 |1 (14)                |2 (18)                |2 (14)                |</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`P-value`</span></span>
<span><span class="co">##       [,1]</span></span>
<span><span class="co">##  [1,] ""  </span></span>
<span><span class="co">##  [2,] ""  </span></span>
<span><span class="co">##  [3,] ""  </span></span>
<span><span class="co">##  [4,] ""  </span></span>
<span><span class="co">##  [5,] ""  </span></span>
<span><span class="co">##  [6,] ""  </span></span>
<span><span class="co">##  [7,] ""  </span></span>
<span><span class="co">##  [8,] ""  </span></span>
<span><span class="co">##  [9,] ""  </span></span>
<span><span class="co">## [10,] ""  </span></span>
<span><span class="co">## [11,] ""  </span></span>
<span><span class="co">## [12,] ""  </span></span>
<span><span class="co">## [13,] ""  </span></span>
<span><span class="co">## [14,] ""  </span></span>
<span><span class="co">## [15,] ""  </span></span>
<span><span class="co">## [16,] ""  </span></span>
<span><span class="co">## [17,] ""  </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                                mtcars2 (N = 32)         6 cylinders (N = 7)    </span></span>
<span><span class="co">##  [1,] "**Miles Per Gallon**"   "&amp;nbsp;&amp;nbsp;"           "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [2,] "&amp;nbsp;&amp;nbsp; min"       "10.4"                   "17.8"                 </span></span>
<span><span class="co">##  [3,] "&amp;nbsp;&amp;nbsp; max"       "33.9"                   "21.4"                 </span></span>
<span><span class="co">##  [4,] "&amp;nbsp;&amp;nbsp; mean (sd)" "20.09 &amp;plusmn; 6.03"    "19.74 &amp;plusmn; 1.45"  </span></span>
<span><span class="co">##  [5,] "**Displacement**"       "&amp;nbsp;&amp;nbsp;"           "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">##  [6,] "&amp;nbsp;&amp;nbsp; min"       "71.1"                   "145"                  </span></span>
<span><span class="co">##  [7,] "&amp;nbsp;&amp;nbsp; median"    "196.3"                  "167.6"                </span></span>
<span><span class="co">##  [8,] "&amp;nbsp;&amp;nbsp; max"       "472"                    "258"                  </span></span>
<span><span class="co">##  [9,] "&amp;nbsp;&amp;nbsp; mean (sd)" "230.72 &amp;plusmn; 123.94" "183.31 &amp;plusmn; 41.56"</span></span>
<span><span class="co">## [10,] "**Weight (1000 lbs)**"  "&amp;nbsp;&amp;nbsp;"           "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [11,] "&amp;nbsp;&amp;nbsp; min"       "1.513"                  "2.62"                 </span></span>
<span><span class="co">## [12,] "&amp;nbsp;&amp;nbsp; max"       "5.424"                  "3.46"                 </span></span>
<span><span class="co">## [13,] "&amp;nbsp;&amp;nbsp; mean (sd)" "3.22 &amp;plusmn; 0.98"     "3.12 &amp;plusmn; 0.36"   </span></span>
<span><span class="co">## [14,] "**Forward Gears**"      "&amp;nbsp;&amp;nbsp;"           "&amp;nbsp;&amp;nbsp;"         </span></span>
<span><span class="co">## [15,] "&amp;nbsp;&amp;nbsp; Three"     "15 (47)"                "2 (29)"               </span></span>
<span><span class="co">## [16,] "&amp;nbsp;&amp;nbsp; Four"      "12 (38)"                "4 (57)"               </span></span>
<span><span class="co">## [17,] "&amp;nbsp;&amp;nbsp; Five"      "5 (16)"                 "1 (14)"               </span></span>
<span><span class="co">##       4 cylinders (N = 11)    8 cylinders (N = 14)      </span></span>
<span><span class="co">##  [1,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"          ""</span></span>
<span><span class="co">##  [2,] "21.4"                  "10.4"                  ""</span></span>
<span><span class="co">##  [3,] "33.9"                  "19.2"                  ""</span></span>
<span><span class="co">##  [4,] "26.66 &amp;plusmn; 4.51"   "15.10 &amp;plusmn; 2.56"   ""</span></span>
<span><span class="co">##  [5,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"          ""</span></span>
<span><span class="co">##  [6,] "71.1"                  "275.8"                 ""</span></span>
<span><span class="co">##  [7,] "108"                   "350.5"                 ""</span></span>
<span><span class="co">##  [8,] "146.7"                 "472"                   ""</span></span>
<span><span class="co">##  [9,] "105.14 &amp;plusmn; 26.87" "353.10 &amp;plusmn; 67.77" ""</span></span>
<span><span class="co">## [10,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"          ""</span></span>
<span><span class="co">## [11,] "1.513"                 "3.17"                  ""</span></span>
<span><span class="co">## [12,] "3.19"                  "5.424"                 ""</span></span>
<span><span class="co">## [13,] "2.29 &amp;plusmn; 0.57"    "4.00 &amp;plusmn; 0.76"    ""</span></span>
<span><span class="co">## [14,] "&amp;nbsp;&amp;nbsp;"          "&amp;nbsp;&amp;nbsp;"          ""</span></span>
<span><span class="co">## [15,] "1 (9)"                 "12 (86)"               ""</span></span>
<span><span class="co">## [16,] "8 (73)"                "0 (0)"                 ""</span></span>
<span><span class="co">## [17,] "2 (18)"                "2 (14)"                ""</span></span>
<span><span class="va">both</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"mean \\(sd\\)"</span>, <span class="va">both</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="st">"P-value"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mpvals</span></span>
<span><span class="va">both</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Forward Gears"</span>, <span class="va">both</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="st">"P-value"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">fpval</span></span></code></pre></div>
<p>and the resulting table is:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">both</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="18%">
<col width="18%">
<col width="17%">
<col width="17%">
<col width="17%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
<th align="left">P-value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Another option you might consider is to have the p-value in the row
group name. Consider the following construction. The p-values are added
to the names of the row groups when building the summary table.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gear_summary</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Forward Gears"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Three"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>            <span class="st">"Four"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>            <span class="st">"Five"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Transmission"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Automatic"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">am</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>            <span class="st">"Manual"</span>    <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">am</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>       <span class="op">)</span></span>
<span></span>
<span><span class="va">gear_summary</span> <span class="op">&lt;-</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">gear_summary</span>,</span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Forward Gears: "</span>, <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">gear</span> <span class="op">+</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Transmission: "</span>,  <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>         <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">gear_summary</span>, by <span class="op">=</span> <span class="st">"cyl_factor"</span><span class="op">)</span></span></code></pre></div>
<p>$<code>6 cylinders</code></p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Forward Gears: <em>P</em> &lt;
0.0001</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
</tr>
<tr class="odd">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
</tr>
<tr class="even">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
</tr>
<tr class="odd">
<td align="left"><strong>Transmission: <em>P</em> = 0.0091</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Automatic</td>
<td align="left">4 (57)</td>
</tr>
<tr class="odd">
<td align="left">   Manual</td>
<td align="left">3 (43)</td>
</tr>
</tbody>
</table>
<p>$<code>4 cylinders</code> [,1]<br>
[1,] “  ” [2,] “1 (9)”<br>
[3,] “8 (73)”<br>
[4,] “2 (18)”<br>
[5,] “  ” [6,] “3 (27)”<br>
[7,] “8 (73)”</p>
<p>$<code>8 cylinders</code> [,1]<br>
[1,] “  ” [2,] “12 (86)”<br>
[3,] “0 (0)”<br>
[4,] “2 (14)”<br>
[5,] “  ” [6,] “12 (86)”<br>
[7,] “2 (14)”</p>
<pre><code>                                    6 cylinders (N = 7)               </code></pre>
<p>[1,] “<strong>Forward Gears: <em>P</em> &lt; 0.0001</strong>” “  ”
“  ” [2,] “   Three” “2 (29)” “1 (9)”<br>
[3,] “   Four” “4 (57)” “8 (73)”<br>
[4,] “   Five” “1 (14)” “2 (18)”<br>
[5,] “<strong>Transmission: <em>P</em> = 0.0091</strong>” “  ” “  ” [6,]
“   Automatic” “4 (57)” “3 (27)”<br>
[7,] “   Manual” “3 (43)” “8 (73)”</p>
<p>[1,] “  ” [2,] “12 (86)”<br>
[3,] “0 (0)”<br>
[4,] “2 (14)”<br>
[5,] “  ” [6,] “12 (86)”<br>
[7,] “2 (14)”</p>
<table class="table">
<colgroup>
<col width="34%">
<col width="21%">
<col width="22%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Forward Gears: <em>P</em> &lt;
0.0001</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
<tr class="odd">
<td align="left"><strong>Transmission: <em>P</em> = 0.0091</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Automatic</td>
<td align="left">4 (57)</td>
<td align="left">3 (27)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Manual</td>
<td align="left">3 (43)</td>
<td align="left">8 (73)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="using-variable-labels">Using Variable Labels<a class="anchor" aria-label="anchor" href="#using-variable-labels"></a>
</h3>
<p>Some data management paradigms will use attributes to keep a label
associated with a variable in a data.frame. Notable examples are the
<code>*[Hmisc](https://cran.r-project.org/package=Hmisc)*</code> and
<code>*[sjPlot](https://cran.r-project.org/package=sjPlot)*.</code> If
you associate a label with a variable in the data frame the that label
will be used when building a summary table. This feature was suggested
<a href="https://github.com/dewittpe/qwraps2/issues/74" class="external-link uri">https://github.com/dewittpe/qwraps2/issues/74</a> and
implemented thusly:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data_frame</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">20</span>, <span class="fl">24</span>, <span class="fl">17</span>, <span class="fl">43</span><span class="op">)</span>,</span>
<span>             edu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>             rt  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.04</span>, <span class="fl">0.02</span>, <span class="fl">0.10</span>, <span class="fl">0.06</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set a label for the variables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">$</span><span class="va">age</span>, <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Age in years"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">$</span><span class="va">rt</span>,  <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Reaction time"</span></span>
<span></span>
<span><span class="co"># mistakenly set the attribute to name instead of label</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">$</span><span class="va">edu</span>, <span class="st">"name"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Education"</span></span></code></pre></div>
<p>When calling <code>qsummary</code> the provide labels for the age and
rt variables will be used. Since the attribute “label” does not exist
for the edu variable, edu will be used in the output.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">qsummary</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">)</span></span>
<span><span class="co">## $`Age in years`</span></span>
<span><span class="co">## $`Age in years`$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(age))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Age in years`$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(age)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Age in years`$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(age)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Age in years`$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(age))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu</span></span>
<span><span class="co">## $edu$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(edu))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(edu)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(edu)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(edu))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`</span></span>
<span><span class="co">## $`Reaction time`$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(rt))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(rt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(rt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(rt))</span></span></code></pre></div>
<p>This behavior is also seen with the <code>summary_table</code>
call</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">new_data_frame (N = 5)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Age in years</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">17.00</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">20.00 (18.00, 24.00)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">24.40 ± 10.74</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">43.00</td>
</tr>
<tr class="even">
<td align="left"><strong>edu</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.00</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">2.00 (1.00, 3.00)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.40 ± 1.67</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.00</td>
</tr>
<tr class="odd">
<td align="left"><strong>Reaction time</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">0.01</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">0.04 (0.02, 0.06)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">0.05 ± 0.04</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">0.10</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>, local <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">## R version 4.3.2 (2023-10-31)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] qwraps2_0.6.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] vctrs_0.6.4       cli_3.6.1         knitr_1.45        rlang_1.1.1      </span></span>
<span><span class="co">##  [5] xfun_0.41         stringi_1.7.12    purrr_1.0.2       textshaping_0.3.7</span></span>
<span><span class="co">##  [9] jsonlite_1.8.7    glue_1.6.2        rprojroot_2.0.3   htmltools_0.5.6.1</span></span>
<span><span class="co">## [13] ragg_1.2.6        sass_0.4.7        rmarkdown_2.25    evaluate_0.23    </span></span>
<span><span class="co">## [17] jquerylib_0.1.4   fastmap_1.1.1     yaml_2.3.7        lifecycle_1.0.3  </span></span>
<span><span class="co">## [21] memoise_2.0.1     stringr_1.5.0     compiler_4.3.2    fs_1.6.3         </span></span>
<span><span class="co">## [25] Rcpp_1.0.11       systemfonts_1.0.5 digest_0.6.33     R6_2.5.1         </span></span>
<span><span class="co">## [29] magrittr_2.0.3    bslib_0.5.1       tools_4.3.2       pkgdown_2.0.7    </span></span>
<span><span class="co">## [33] cachem_1.0.8      desc_1.4.2</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Peter DeWitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
