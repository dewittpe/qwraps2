<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="qwraps2">
<title>qwraps2: Summary Table • qwraps2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="qwraps2: Summary Table">
<meta property="og:description" content="qwraps2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">qwraps2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/qwraps2-data-sets.html">qwraps2: Data Sets</a>
    <a class="dropdown-item" href="../articles/qwraps2-formatted-summary-statistics.html">qwraps2: Formatted Summary Statistics</a>
    <a class="dropdown-item" href="../articles/qwraps2-graphics.html">qwraps2: Graphics</a>
    <a class="dropdown-item" href="../articles/qwraps2-summary-table.html">qwraps2: Summary Table</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dewittpe/qwraps2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>qwraps2: Summary Table</h1>
                        <h4 data-toc-skip class="author">Peter E.
DeWitt</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dewittpe/qwraps2/blob/HEAD/vignettes/qwraps2-summary-table.Rmd" class="external-link"><code>vignettes/qwraps2-summary-table.Rmd</code></a></small>
      <div class="d-none name"><code>qwraps2-summary-table.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dewittpe/qwraps2/" class="external-link">qwraps2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>qwraps2_markup <span class="op">=</span> <span class="st">"markdown"</span><span class="op">)</span></span></code></pre></div>
<p>The <code>summary_table</code> method appears to be the most popular
and widely used feature of the <em><a href="https://cran.r-project.org/package=qwraps2" class="external-link">qwraps2</a></em>
package. As such, this vignette is provided to give as much detail on
the use of the method, and the underlying <code>qable</code> method for
quickly building well formatted summary tables.</p>
<div class="section level2">
<h2 id="qable">qable<a class="anchor" aria-label="anchor" href="#qable"></a>
</h2>
<p><code>qable</code> builds a formatted character matrix from inputs
and then renders a table via knitr::kable. The primary objective of this
function is to allow for easy construction of row groups.</p>
<div class="section level3">
<h3 id="kable-vs-qable">kable vs qable<a class="anchor" aria-label="anchor" href="#kable-vs-qable"></a>
</h3>
<p>For a simple example we will use the following data set with a
grouping variable, subject id, and two variables, V2, and V3. For
simplicity, we will order the data by group and id as well.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>       group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"grp"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>     , id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span>, x <span class="op">=</span> <span class="va">LETTERS</span><span class="op">)</span></span>
<span>     , V2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span>
<span>     , V3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="cn">NA</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span>     <span class="op">)</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">group</span>, <span class="va">d</span><span class="op">$</span><span class="va">id</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<p>Making a simple table via kable:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">d</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">group</th>
<th align="left">id</th>
<th align="right">V2</th>
<th align="right">V3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">grp1</td>
<td align="left">D</td>
<td align="right">0.3584021</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">grp1</td>
<td align="left">H</td>
<td align="right">-0.9491808</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">grp1</td>
<td align="left">I</td>
<td align="right">1.7232308</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">grp1</td>
<td align="left">J</td>
<td align="right">2.1157556</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">grp1</td>
<td align="left">O</td>
<td align="right">-0.1616986</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">grp2</td>
<td align="left">B</td>
<td align="right">0.6707038</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">grp2</td>
<td align="left">E</td>
<td align="right">0.3024309</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">grp2</td>
<td align="left">K</td>
<td align="right">-0.7045514</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">grp2</td>
<td align="left">R</td>
<td align="right">0.9469132</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">grp2</td>
<td align="left">V</td>
<td align="right">0.7881406</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">grp4</td>
<td align="left">M</td>
<td align="right">-0.3941145</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">grp4</td>
<td align="left">P</td>
<td align="right">-0.8798365</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">grp4</td>
<td align="left">Y</td>
<td align="right">0.0361357</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">grp5</td>
<td align="left">A</td>
<td align="right">0.1674409</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">grp5</td>
<td align="left">C</td>
<td align="right">1.9355718</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>The group column is great for data analysis, but is not the best for
human readability. This is where <code>qable</code> can be useful. Start
by building a named numeric column with the name being the row group
name and the value the number of rows. For the <em>ordered</em> data
this is a simple call to table:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">group</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## grp1 grp2 grp4 grp5 </span></span>
<span><span class="co">##    5    5    3    2</span></span></code></pre></div>
<p>If we pass that named vector to <code>qable</code> as the rgroup and
with specify the id column as the row names we have the same information
but in format that is better for humans:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/qable.html">qable</a></span><span class="op">(</span>  x <span class="op">=</span> <span class="va">d</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"V2"</span>, <span class="st">"V3"</span><span class="op">)</span><span class="op">]</span></span>
<span>      , rgroup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="co"># row group</span></span>
<span>      , rnames <span class="op">=</span> <span class="va">d</span><span class="op">$</span><span class="va">id</span>              <span class="co"># row names</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">V2</th>
<th align="left">V3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>grp1</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   D</td>
<td align="left">0.358402056802064</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">   H</td>
<td align="left">-0.949180809687611</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">   I</td>
<td align="left">1.72323079854894</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   J</td>
<td align="left">2.11575561323695</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">   O</td>
<td align="left">-0.161698647607024</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left"><strong>grp2</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   B</td>
<td align="left">0.67070382675052</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">   E</td>
<td align="left">0.3024309248682</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">   K</td>
<td align="left">-0.704551365955043</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   R</td>
<td align="left">0.946913174943256</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">   V</td>
<td align="left">0.788140622823556</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left"><strong>grp4</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   M</td>
<td align="left">-0.394114506412192</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   P</td>
<td align="left">-0.879836528531105</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">   Y</td>
<td align="left">0.0361357384849679</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left"><strong>grp5</strong></td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   A</td>
<td align="left">0.167440904355584</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">   C</td>
<td align="left">1.93557176599585</td>
<td align="left">2</td>
</tr>
</tbody>
</table>
<p>The return object from <code>qable</code> is a character matrix.
Also, when a data.frame is passed to <code>qable</code> it is coerced to
a matrix before anything else, as such, any formatting of numeric values
or other strings should be done before calling <code>qable</code>.</p>
<p>To pass arguments to knitr::kable do so via the
<code>kable_args</code> argument.</p>
</div>
<div class="section level3">
<h3 id="example-regression-model-summary-table">Example: Regression Model Summary Table<a class="anchor" aria-label="anchor" href="#example-regression-model-summary-table"></a>
</h3>
<p>We will build a summary table for a regression model with row groups
for conceptually similar predictors.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">spam</span> <span class="op">~</span></span>
<span>        <span class="va">word_freq_your</span> <span class="op">+</span> <span class="va">word_freq_conference</span> <span class="op">+</span> <span class="va">word_freq_business</span> <span class="op">+</span></span>
<span>        <span class="va">char_freq_semicolon</span> <span class="op">+</span> <span class="va">char_freq_exclamation_point</span> <span class="op">+</span></span>
<span>        <span class="va">capital_run_length_total</span> <span class="op">+</span> <span class="va">capital_run_length_longest</span></span>
<span>    , data <span class="op">=</span> <span class="va">spambase</span></span>
<span>    , family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">## Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</span></span>
<span></span>
<span><span class="va">model_summary</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    parameter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">)</span></span>
<span>  , odd_ratio <span class="op">=</span> <span class="fu"><a href="../reference/frmt.html">frmt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>  , lcl       <span class="op">=</span> <span class="fu"><a href="../reference/frmt.html">frmt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">0.025</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>  , ucl       <span class="op">=</span> <span class="fu"><a href="../reference/frmt.html">frmt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fl">0.975</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span>  , pval      <span class="op">=</span> <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">$</span><span class="va">coef</span><span class="op">[</span>, <span class="fl">4</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/qable.html">qable</a></span><span class="op">(</span><span class="va">model_summary</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'odd_ratio'</span>, <span class="st">'lcl'</span>, <span class="st">'ucl'</span>, <span class="st">'pval'</span><span class="op">)</span><span class="op">]</span></span>
<span>      , rtitle <span class="op">=</span> <span class="st">"Parameter"</span></span>
<span>      , rgroup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Word Frequency"</span> <span class="op">=</span> <span class="fl">3</span>, <span class="st">"Character Frequency"</span> <span class="op">=</span> <span class="fl">2</span>, <span class="st">"Capital Run Length"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>      , rnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Your"</span>, <span class="st">"Conference"</span>, <span class="st">"Business"</span>, <span class="st">";"</span>, <span class="st">"!"</span>, <span class="st">"Total"</span>, <span class="st">"Longest"</span><span class="op">)</span></span>
<span>      , kable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>align <span class="op">=</span> <span class="st">"lrrrr"</span>, caption <span class="op">=</span> <span class="st">"Regression Model Summary"</span><span class="op">)</span></span>
<span>      , cnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Odds Ratio"</span>, <span class="st">"Lower Conf. Limit"</span>, <span class="st">"Upper Conf. Limit"</span>, <span class="st">"P-value"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Regression Model Summary</caption>
<colgroup>
<col width="27%">
<col width="15%">
<col width="20%">
<col width="20%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">Parameter</th>
<th align="right">Odds Ratio</th>
<th align="right">Lower Conf. Limit</th>
<th align="right">Upper Conf. Limit</th>
<th align="right">P-value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Word Frequency</strong></td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   Your</td>
<td align="right">1.802</td>
<td align="right">1.678</td>
<td align="right">1.934</td>
<td align="right">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left">   Conference</td>
<td align="right">0.001</td>
<td align="right">0.000</td>
<td align="right">0.012</td>
<td align="right">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left">   Business</td>
<td align="right">3.573</td>
<td align="right">2.721</td>
<td align="right">4.693</td>
<td align="right">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left"><strong>Character Frequency</strong></td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   ;</td>
<td align="right">0.325</td>
<td align="right">0.136</td>
<td align="right">0.779</td>
<td align="right">
<em>P</em> = 0.0117</td>
</tr>
<tr class="odd">
<td align="left">   !</td>
<td align="right">4.148</td>
<td align="right">3.336</td>
<td align="right">5.158</td>
<td align="right">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Capital Run Length</strong></td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
<td align="right">  </td>
</tr>
<tr class="odd">
<td align="left">   Total</td>
<td align="right">1.000</td>
<td align="right">1.000</td>
<td align="right">1.001</td>
<td align="right">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left">   Longest</td>
<td align="right">1.017</td>
<td align="right">1.014</td>
<td align="right">1.019</td>
<td align="right">
<em>P</em> &lt; 0.0001</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="summary_table">summary_table<a class="anchor" aria-label="anchor" href="#summary_table"></a>
</h2>
<p><code>summary_table</code> was developed with the primary objective
to build well formatted and easy to read data summary tables.
Conceptually, the construction of these tables start by building a
“list-of-lists” of summaries and then generating these summaries for
specific groupings of the data set.</p>
<div class="section level3">
<h3 id="defining-a-summary">Defining a Summary<a class="anchor" aria-label="anchor" href="#defining-a-summary"></a>
</h3>
<p>We will use the <code>mtcars2</code> data set for these examples.
We’ll start with something very simple and build up to something
bigger.</p>
<p>Let’s report the min, max, and mean (sd) for continuous variables and
n (%) for categorical variables. We will report mpg, displacement
(disp), wt (weight), and gear overall and by number of cylinders and
transmission type.</p>
<p>The use of the <code>summary_table</code> use to define a summary,
that is, a list-of-lists of formulas for summarizing the data.frame.</p>
<p>The inner lists are named formulae defining the wanted summary. The
names are important, as they are used to label row groups and row names
in the table.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">our_summary1</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Miles Per Gallon"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"min"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            <span class="st">"max"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            <span class="st">"mean (sd)"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Displacement"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"min"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>,</span>
<span>            <span class="st">"median"</span>    <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>,</span>
<span>            <span class="st">"max"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span>,</span>
<span>            <span class="st">"mean (sd)"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Weight (1000 lbs)"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"min"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span>,</span>
<span>            <span class="st">"max"</span>       <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span>,</span>
<span>            <span class="st">"mean (sd)"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/mean_sd.html">mean_sd</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Forward Gears"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Three"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>            <span class="st">"Four"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>            <span class="st">"Five"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span>       <span class="op">)</span></span></code></pre></div>
<p>Building the table is done with a call to <code>summary_table</code>
and rendered in Table @ref(tab:mtcars_whole).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">whole</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">mtcars2</span></span>
<span>  , summaries <span class="op">=</span> <span class="va">our_summary1</span></span>
<span>  , qable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>kable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"mtcars2 data summary"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">whole</span></span></code></pre></div>
<table class="table">
<caption>mtcars2 data summary</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="summarize-by">Summarize by<a class="anchor" aria-label="anchor" href="#summarize-by"></a>
</h3>
<p>Use the <code>by</code> argument to specify a grouping variable and
generate the same summary as above but for subsets of the data. When the
<code>by</code> column is a factor, the columns will be in the order of
the levels of the factor. In comparison, the column order is
alphabetical if the variable is just a character.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_cylf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">mtcars2</span></span>
<span>  , summaries <span class="op">=</span> <span class="va">our_summary1</span></span>
<span>  , by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl_factor"</span><span class="op">)</span></span>
<span>  , qable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rtitle <span class="op">=</span> <span class="st">"Summary Statistics"</span></span>
<span>                      , kable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"mtcars2 data summary by cyl_factor"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">by_cylf</span></span></code></pre></div>
<table class="table">
<caption>mtcars2 data summary by cyl_factor</caption>
<colgroup>
<col width="25%">
<col width="24%">
<col width="24%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left">Summary Statistics</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_cylc</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">mtcars2</span></span>
<span>  , summaries <span class="op">=</span> <span class="va">our_summary1</span></span>
<span>  , by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl_character"</span><span class="op">)</span></span>
<span>  , qable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rtitle <span class="op">=</span> <span class="st">"Summary Statistics"</span></span>
<span>                      , kable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"mtcars2 data summary by cyl_character"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">by_cylc</span></span></code></pre></div>
<table class="table">
<caption>mtcars2 data summary by cyl_character</caption>
<colgroup>
<col width="25%">
<col width="24%">
<col width="24%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left">Summary Statistics</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">21.4</td>
<td align="left">17.8</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">108</td>
<td align="left">167.6</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">146.7</td>
<td align="left">258</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.19</td>
<td align="left">3.46</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">1 (9)</td>
<td align="left">2 (29)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">8 (73)</td>
<td align="left">4 (57)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">2 (18)</td>
<td align="left">1 (14)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>You are also able to generate summaries by multiple columns. For
example, Table @ref(tab:mtcars2_by_cyl_transmission) reports the summary
by the combination of the number of cylinders and the type of
transmission.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_cyl_am</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">mtcars2</span></span>
<span>  , summaries <span class="op">=</span> <span class="va">our_summary1</span></span>
<span>  , by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl_factor"</span>, <span class="st">"transmission"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">by_cyl_am</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="15%">
<col width="15%">
<col width="15%">
<col width="13%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders.Automatic (N = 4)</th>
<th align="left">4 cylinders.Automatic (N = 3)</th>
<th align="left">8 cylinders.Automatic (N = 12)</th>
<th align="left">6 cylinders.Manual (N = 3)</th>
<th align="left">4 cylinders.Manual (N = 8)</th>
<th align="left">8 cylinders.Manual (N = 2)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">17.8</td>
<td align="left">21.5</td>
<td align="left">10.4</td>
<td align="left">19.7</td>
<td align="left">21.4</td>
<td align="left">15</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">21.4</td>
<td align="left">24.4</td>
<td align="left">19.2</td>
<td align="left">21</td>
<td align="left">33.9</td>
<td align="left">15.8</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">19.12 ± 1.63</td>
<td align="left">22.90 ± 1.45</td>
<td align="left">15.05 ± 2.77</td>
<td align="left">20.57 ± 0.75</td>
<td align="left">28.07 ± 4.48</td>
<td align="left">15.40 ± 0.57</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">167.6</td>
<td align="left">120.1</td>
<td align="left">275.8</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">301</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">140.8</td>
<td align="left">355</td>
<td align="left">160</td>
<td align="left">87.05</td>
<td align="left">326</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
<td align="left">160</td>
<td align="left">121</td>
<td align="left">351</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">204.55 ± 44.74</td>
<td align="left">135.87 ± 13.97</td>
<td align="left">357.62 ± 71.82</td>
<td align="left">155.00 ± 8.66</td>
<td align="left">93.61 ± 20.48</td>
<td align="left">326.00 ± 35.36</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">3.215</td>
<td align="left">2.465</td>
<td align="left">3.435</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
<td align="left">2.875</td>
<td align="left">2.78</td>
<td align="left">3.57</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.39 ± 0.12</td>
<td align="left">2.94 ± 0.41</td>
<td align="left">4.10 ± 0.77</td>
<td align="left">2.75 ± 0.13</td>
<td align="left">2.04 ± 0.41</td>
<td align="left">3.37 ± 0.28</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">2 (50)</td>
<td align="left">1 (33)</td>
<td align="left">12 (100)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">2 (50)</td>
<td align="left">2 (67)</td>
<td align="left">0 (0)</td>
<td align="left">2 (67)</td>
<td align="left">6 (75)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
<td align="left">0 (0)</td>
<td align="left">1 (33)</td>
<td align="left">2 (25)</td>
<td align="left">2 (100)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="cbind-summary_table">cbind summary_table<a class="anchor" aria-label="anchor" href="#cbind-summary_table"></a>
</h3>
<p>It is common that I will want to have a summary table with the first
column reporting for the whole data sets and the additional columns for
subsets of the data set. The returned objects from
<code>summary_table</code> can be joined together via <code>cbind</code>
assuming that the row groupings (summaries) are the same.</p>
<p>Note: the <code>kable_args</code> of the first item passed to
<code>cbind</code> will be assigned to the resulting object (Table
@ref(tab:mtcars2_cbind)). However, there is an easy way to modify the
qable_args and kable_args via the print method.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">both</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">whole</span>, <span class="va">by_cylf</span><span class="op">)</span></span>
<span><span class="va">both</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>mtcars2 data summary</caption>
<colgroup>
<col width="20%">
<col width="20%">
<col width="19%">
<col width="19%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
<p>If you want to update how a summary table is printed, you can do so
by calling the print method explicitly while passing a new set of
<code>qable_args</code>, see Table @ref(tab:updated_both).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">both</span>,</span>
<span>      qable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        rtitle <span class="op">=</span> <span class="st">"ROW-TITLE"</span>,</span>
<span>        cnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Col 0"</span>, <span class="st">"Col 1"</span>, <span class="st">"Col 2"</span>, <span class="st">"Col 3"</span><span class="op">)</span>,</span>
<span>        kable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>          align <span class="op">=</span> <span class="st">"lcrcr"</span>,</span>
<span>          caption <span class="op">=</span> <span class="st">"mtcars2 data summary - new caption"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>mtcars2 data summary - new caption</caption>
<colgroup>
<col width="20%">
<col width="21%">
<col width="19%">
<col width="20%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left">ROW-TITLE</th>
<th align="center">Col 0</th>
<th align="right">Col 1</th>
<th align="center">Col 2</th>
<th align="right">Col 3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="center">10.4</td>
<td align="right">17.8</td>
<td align="center">21.4</td>
<td align="right">10.4</td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="center">33.9</td>
<td align="right">21.4</td>
<td align="center">33.9</td>
<td align="right">19.2</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="center">20.09 ± 6.03</td>
<td align="right">19.74 ± 1.45</td>
<td align="center">26.66 ± 4.51</td>
<td align="right">15.10 ± 2.56</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="center">71.1</td>
<td align="right">145</td>
<td align="center">71.1</td>
<td align="right">275.8</td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="center">196.3</td>
<td align="right">167.6</td>
<td align="center">108</td>
<td align="right">350.5</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="center">472</td>
<td align="right">258</td>
<td align="center">146.7</td>
<td align="right">472</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="center">230.72 ± 123.94</td>
<td align="right">183.31 ± 41.56</td>
<td align="center">105.14 ± 26.87</td>
<td align="right">353.10 ± 67.77</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="center">1.513</td>
<td align="right">2.62</td>
<td align="center">1.513</td>
<td align="right">3.17</td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="center">5.424</td>
<td align="right">3.46</td>
<td align="center">3.19</td>
<td align="right">5.424</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="center">3.22 ± 0.98</td>
<td align="right">3.12 ± 0.36</td>
<td align="center">2.29 ± 0.57</td>
<td align="right">4.00 ± 0.76</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="center">  </td>
<td align="right">  </td>
<td align="center">  </td>
<td align="right">  </td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="center">15 (47)</td>
<td align="right">2 (29)</td>
<td align="center">1 (9)</td>
<td align="right">12 (86)</td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="center">12 (38)</td>
<td align="right">4 (57)</td>
<td align="center">8 (73)</td>
<td align="right">0 (0)</td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="center">5 (16)</td>
<td align="right">1 (14)</td>
<td align="center">2 (18)</td>
<td align="right">2 (14)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="adding-p-values-to-a-summary-table">Adding P-values to a Summary Table<a class="anchor" aria-label="anchor" href="#adding-p-values-to-a-summary-table"></a>
</h3>
<p>There are many different ways to format data summary tables. Adding
p-values to a table is just one thing that can be done in more than one
way. For example, if a row group reports the counts and percentages for
each level of a categorical variable across multiple (column) groups,
then I would argue that the p-value resulting from a chi square test or
a Fisher exact test would be best placed on the line of the table
labeling the row group. However, say we reported the minimum, median,
mean, and maximum with in a row group for one variable. The p-value from
a t-test, or other meaningful test for the difference in mean, I would
suggest should be reported on the line of the summary table for the
mean, not the row group itself.</p>
<p>With so many possibilities I have reserved construction of a p-value
column to be ad hoc. Perhaps an additional column wouldn’t be used and
the p-values are edited into row group labels, for example.</p>
<p>If you want to add a p-value column, or any other column(s) to a
<code>qwraps2_summary_table</code> object you can with some degree of
ease. Note that <code>qwraps2_summary_table</code> objects are just
character matrices with additional attributes.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">both</span><span class="op">)</span></span>
<span><span class="co">##  'qwraps2_summary_table' chr [1:17, 1:5] "**Miles Per Gallon**" ...</span></span>
<span><span class="co">##  - attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   ..$ : NULL</span></span>
<span><span class="co">##   ..$ : chr [1:5] "" "mtcars2 (N = 32)" "6 cylinders (N = 7)" "4 cylinders (N = 11)" ...</span></span>
<span><span class="co">##  - attr(*, "qable_args")=List of 6</span></span>
<span><span class="co">##   ..$ rtitle    : chr ""</span></span>
<span><span class="co">##   ..$ rgroup    : Named int [1:4] 3 4 3 3</span></span>
<span><span class="co">##   .. ..- attr(*, "names")= chr [1:4] "Miles Per Gallon" "Displacement" "Weight (1000 lbs)" "Forward Gears"</span></span>
<span><span class="co">##   ..$ rnames    : chr [1:13] "min" "max" "mean (sd)" "min" ...</span></span>
<span><span class="co">##   ..$ cnames    : chr [1:5] "" "mtcars2 (N = 32)" "6 cylinders (N = 7)" "4 cylinders (N = 11)" ...</span></span>
<span><span class="co">##   ..$ markup    : chr "markdown"</span></span>
<span><span class="co">##   ..$ kable_args:List of 1</span></span>
<span><span class="co">##   .. ..$ caption: chr "mtcars2 data summary"</span></span></code></pre></div>
<p>For this example, we will added p-values for testing the difference
in the mean between the three cylinder groups and the distribution of
forward gears by cylinder groups.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># difference in means</span></span>
<span><span class="va">mpvals</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mpg  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span>  <span class="op">~</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span>,</span>
<span>              disp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">disp</span> <span class="op">~</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span>,</span>
<span>              wt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">wt</span>   <span class="op">~</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         <span class="va">extract_fpvalue</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fisher test</span></span>
<span><span class="va">fpval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">$</span><span class="va">gear</span>, <span class="va">mtcars2</span><span class="op">$</span><span class="va">cyl_factor</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span><span class="op">)</span></span></code></pre></div>
<p>In this case, adding the p-value column, is done by creating a empty
column and then writing in the needed p-value on the wanted rows. This
could be within a row group (tests for means) or for a row group (Fisher
test).</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">both</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">both</span>, <span class="st">"P-value"</span> <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="va">both</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"mean \\(sd\\)"</span>, <span class="va">both</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="st">"P-value"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mpvals</span></span>
<span><span class="va">both</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Forward Gears"</span>, <span class="va">both</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="st">"P-value"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">fpval</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">both</span>, qable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>kable_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"mtcars2 summary with p-values"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>mtcars2 summary with p-values</caption>
<colgroup>
<col width="18%">
<col width="18%">
<col width="17%">
<col width="17%">
<col width="17%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
<th align="left">P-value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Miles Per Gallon</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">10.4</td>
<td align="left">17.8</td>
<td align="left">21.4</td>
<td align="left">10.4</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   max</td>
<td align="left">33.9</td>
<td align="left">21.4</td>
<td align="left">33.9</td>
<td align="left">19.2</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
<td align="left">19.74 ± 1.45</td>
<td align="left">26.66 ± 4.51</td>
<td align="left">15.10 ± 2.56</td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left"><strong>Displacement</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   min</td>
<td align="left">71.1</td>
<td align="left">145</td>
<td align="left">71.1</td>
<td align="left">275.8</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   median</td>
<td align="left">196.3</td>
<td align="left">167.6</td>
<td align="left">108</td>
<td align="left">350.5</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">472</td>
<td align="left">258</td>
<td align="left">146.7</td>
<td align="left">472</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">230.72 ± 123.94</td>
<td align="left">183.31 ± 41.56</td>
<td align="left">105.14 ± 26.87</td>
<td align="left">353.10 ± 67.77</td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Weight (1000 lbs)</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   min</td>
<td align="left">1.513</td>
<td align="left">2.62</td>
<td align="left">1.513</td>
<td align="left">3.17</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   max</td>
<td align="left">5.424</td>
<td align="left">3.46</td>
<td align="left">3.19</td>
<td align="left">5.424</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
<td align="left">3.12 ± 0.36</td>
<td align="left">2.29 ± 0.57</td>
<td align="left">4.00 ± 0.76</td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="even">
<td align="left"><strong>Forward Gears</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">
<em>P</em> &lt; 0.0001</td>
</tr>
<tr class="odd">
<td align="left">   Three</td>
<td align="left">15 (47)</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   Four</td>
<td align="left">12 (38)</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">   Five</td>
<td align="left">5 (16)</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Another option you might consider is to have the p-value in the row
group name. Consider the following construction. The p-values are added
to the names of the row groups when building the summary table.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gear_summary</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Forward Gears"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Three"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>            <span class="st">"Four"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>            <span class="st">"Five"</span>  <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       <span class="st">"Transmission"</span> <span class="op">=</span></span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Automatic"</span> <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">am</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>            <span class="st">"Manual"</span>    <span class="op">=</span> <span class="op">~</span> <span class="fu">qwraps2</span><span class="fu">::</span><span class="fu"><a href="../reference/n_perc.html">n_perc0</a></span><span class="op">(</span><span class="va">am</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>       <span class="op">)</span></span>
<span></span>
<span><span class="va">gear_summary</span> <span class="op">&lt;-</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">gear_summary</span>,</span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Forward Gears: "</span>, <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">gear</span> <span class="op">+</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Transmission: "</span>,  <span class="fu"><a href="../reference/frmt.html">frmtp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">cyl_factor</span>, data <span class="op">=</span> <span class="va">mtcars2</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">p.value</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>         <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">gear_summary</span>, by <span class="op">=</span> <span class="st">"cyl_factor"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="34%">
<col width="21%">
<col width="22%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">6 cylinders (N = 7)</th>
<th align="left">4 cylinders (N = 11)</th>
<th align="left">8 cylinders (N = 14)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Forward Gears: <em>P</em> &lt;
0.0001</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Three</td>
<td align="left">2 (29)</td>
<td align="left">1 (9)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Four</td>
<td align="left">4 (57)</td>
<td align="left">8 (73)</td>
<td align="left">0 (0)</td>
</tr>
<tr class="even">
<td align="left">   Five</td>
<td align="left">1 (14)</td>
<td align="left">2 (18)</td>
<td align="left">2 (14)</td>
</tr>
<tr class="odd">
<td align="left"><strong>Transmission: <em>P</em> = 0.0091</strong></td>
<td align="left">  </td>
<td align="left">  </td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Automatic</td>
<td align="left">4 (57)</td>
<td align="left">3 (27)</td>
<td align="left">12 (86)</td>
</tr>
<tr class="odd">
<td align="left">   Manual</td>
<td align="left">3 (43)</td>
<td align="left">8 (73)</td>
<td align="left">2 (14)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="rbind-summary_table">rbind summary_table<a class="anchor" aria-label="anchor" href="#rbind-summary_table"></a>
</h3>
<p>There is a rbind method of summary tables. This can be useful when
building a large a table in smaller sections would be advantageous. For
example, it might be helpful to add p-values to a summary table with
just one row group and then rbind all the tables together for printing.
Consider that in the above example for adding p-values we have made an
assumption that the order of the summary and the <code>mpvals</code>
will be static. Remembering to make the sequence changes in more than
one location can be more difficult than we would like to admit. Writing
code to be robust to such changes is preferable.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">t_mpg</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, summaries <span class="op">=</span> <span class="va">our_summary1</span><span class="op">[</span><span class="st">"Miles Per Gallon"</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"cyl_factor"</span><span class="op">)</span></span>
<span><span class="va">t_disp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, summaries <span class="op">=</span> <span class="va">our_summary1</span><span class="op">[</span><span class="st">"Displacement"</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"cyl_factor"</span><span class="op">)</span></span>
<span><span class="va">t_wt</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, summaries <span class="op">=</span> <span class="va">our_summary1</span><span class="op">[</span><span class="st">"Weight (1000 lbs)"</span><span class="op">]</span>, by <span class="op">=</span> <span class="st">"cyl_factor"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">t_mpg</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">t_mpg</span>,  <span class="st">"pvalue"</span> <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="va">t_disp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">t_disp</span>, <span class="st">"pvalue"</span> <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="va">t_wt</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">t_wt</span>,   <span class="st">"pvalue"</span> <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="va">t_mpg</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="va">t_mpg</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>,  <span class="st">"pvalue"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"mpg-pvalue"</span></span>
<span><span class="va">t_disp</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="va">t_disp</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="st">"pvalue"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"disp-pvalue"</span></span>
<span><span class="va">t_wt</span><span class="op">[</span>  <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="va">t_wt</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>,   <span class="st">"pvalue"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"wt-pvalue"</span></span></code></pre></div>
<p>Calling rbind now will let us have the table in different sequences
without having to worry about the alignment of rows between different
elements:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">t_mpg</span>, <span class="va">t_disp</span>, <span class="va">t_wt</span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## |                       |6 cylinders (N = 7)   |4 cylinders (N = 11)  |8 cylinders (N = 14)  |pvalue      |</span></span>
<span><span class="co">## |:----------------------|:---------------------|:---------------------|:---------------------|:-----------|</span></span>
<span><span class="co">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |21.4                  |10.4                  |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |33.9                  |19.2                  |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.74 &amp;plusmn; 1.45   |26.66 &amp;plusmn; 4.51   |15.10 &amp;plusmn; 2.56   |mpg-pvalue  |</span></span>
<span><span class="co">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |145                   |71.1                  |275.8                 |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; median    |167.6                 |108                   |350.5                 |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |258                   |146.7                 |472                   |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |183.31 &amp;plusmn; 41.56 |105.14 &amp;plusmn; 26.87 |353.10 &amp;plusmn; 67.77 |disp-pvalue |</span></span>
<span><span class="co">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |2.62                  |1.513                 |3.17                  |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |3.19                  |5.424                 |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.12 &amp;plusmn; 0.36    |2.29 &amp;plusmn; 0.57    |4.00 &amp;plusmn; 0.76    |wt-pvalue   |</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">t_wt</span>, <span class="va">t_disp</span>, <span class="va">t_mpg</span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## |                       |6 cylinders (N = 7)   |4 cylinders (N = 11)  |8 cylinders (N = 14)  |pvalue      |</span></span>
<span><span class="co">## |:----------------------|:---------------------|:---------------------|:---------------------|:-----------|</span></span>
<span><span class="co">## |**Weight (1000 lbs)**  |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |2.62                  |1.513                 |3.17                  |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |3.46                  |3.19                  |5.424                 |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |3.12 &amp;plusmn; 0.36    |2.29 &amp;plusmn; 0.57    |4.00 &amp;plusmn; 0.76    |wt-pvalue   |</span></span>
<span><span class="co">## |**Displacement**       |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |145                   |71.1                  |275.8                 |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; median    |167.6                 |108                   |350.5                 |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |258                   |146.7                 |472                   |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |183.31 &amp;plusmn; 41.56 |105.14 &amp;plusmn; 26.87 |353.10 &amp;plusmn; 67.77 |disp-pvalue |</span></span>
<span><span class="co">## |**Miles Per Gallon**   |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |&amp;nbsp;&amp;nbsp;          |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; min       |17.8                  |21.4                  |10.4                  |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; max       |21.4                  |33.9                  |19.2                  |            |</span></span>
<span><span class="co">## |&amp;nbsp;&amp;nbsp; mean (sd) |19.74 &amp;plusmn; 1.45   |26.66 &amp;plusmn; 4.51   |15.10 &amp;plusmn; 2.56   |mpg-pvalue  |</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-variable-labels">Using Variable Labels<a class="anchor" aria-label="anchor" href="#using-variable-labels"></a>
</h3>
<p>Some data management paradigms will use attributes to keep a label
associated with a variable in a data.frame. Notable examples are the
<em><a href="https://cran.r-project.org/package=Hmisc" class="external-link">Hmisc</a></em>
and <em><a href="https://cran.r-project.org/package=sjPlot" class="external-link">sjPlot</a></em>. If you
associate a label with a variable in the data frame the that label will
be used when building a summary table. This feature was suggested <a href="https://github.com/dewittpe/qwraps2/issues/74" class="external-link uri">https://github.com/dewittpe/qwraps2/issues/74</a> and
implemented thusly:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_data_frame</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">20</span>, <span class="fl">24</span>, <span class="fl">17</span>, <span class="fl">43</span><span class="op">)</span>,</span>
<span>             edu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>             rt  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.04</span>, <span class="fl">0.02</span>, <span class="fl">0.10</span>, <span class="fl">0.06</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set a label for the variables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">$</span><span class="va">age</span>, <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Age in years"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">$</span><span class="va">rt</span>,  <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Reaction time"</span></span>
<span></span>
<span><span class="co"># mistakenly set the attribute to name instead of label</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">$</span><span class="va">edu</span>, <span class="st">"name"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Education"</span></span></code></pre></div>
<p>When calling <code>qsummary</code> the provide labels for the age and
rt variables will be used. Since the attribute “label” does not exist
for the edu variable, edu will be used in the output.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">qsummary</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">)</span></span>
<span><span class="co">## $`Age in years`</span></span>
<span><span class="co">## $`Age in years`$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(age))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Age in years`$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(age)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Age in years`$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(age)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Age in years`$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(age))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu</span></span>
<span><span class="co">## $edu$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(edu))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(edu)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(edu)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $edu$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(edu))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`</span></span>
<span><span class="co">## $`Reaction time`$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(rt))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(rt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(rt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`Reaction time`$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(rt))</span></span></code></pre></div>
<p>This behavior is also seen with the <code>summary_table</code>
call.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">new_data_frame</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">new_data_frame (N = 5)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>Age in years</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">17.00</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">20.00 (18.00, 24.00)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">24.40 ± 10.74</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">43.00</td>
</tr>
<tr class="even">
<td align="left"><strong>edu</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.00</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">2.00 (1.00, 3.00)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">2.40 ± 1.67</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.00</td>
</tr>
<tr class="odd">
<td align="left"><strong>Reaction time</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">0.01</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">0.04 (0.02, 0.06)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">0.05 ± 0.04</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">0.10</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="alternative-building-of-the-summaries">Alternative building of the summaries<a class="anchor" aria-label="anchor" href="#alternative-building-of-the-summaries"></a>
</h3>
<p>The task of building the <code>summaries</code> list-of-lists can be
tedious. The function <code>qummaries</code> is designed to make it
easier. <code>qummaries</code> will use a set of predefined functions to
summarize numeric columns of a data.frame, a set of arguments to pass to
<code>n_perc</code> for categorical (character and factor)
variables.</p>
<p>By default, calling <code>summary_table</code> will use the default
summary metrics defined by <code>qsummary</code>. The purpose of
<code>qsummary</code> is to provide the same summary for all numeric
variables within a data.frame and a single style of summary for
categorical variables within the data.frame. For example, the default
summary for a set of variables from the <code>mtcars2</code> data set
is</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">qsummary</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl_factor"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## $mpg</span></span>
<span><span class="co">## $mpg$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(mpg))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mpg$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(mpg)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mpg$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(mpg)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mpg$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(mpg))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cyl_factor</span></span>
<span><span class="co">## $cyl_factor$`6 cylinders`</span></span>
<span><span class="co">## ~qwraps2::n_perc(cyl_factor == "6 cylinders", digits = 0, show_symbol = FALSE)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cyl_factor$`4 cylinders`</span></span>
<span><span class="co">## ~qwraps2::n_perc(cyl_factor == "4 cylinders", digits = 0, show_symbol = FALSE)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $cyl_factor$`8 cylinders`</span></span>
<span><span class="co">## ~qwraps2::n_perc(cyl_factor == "8 cylinders", digits = 0, show_symbol = FALSE)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt</span></span>
<span><span class="co">## $wt$minimum</span></span>
<span><span class="co">## ~qwraps2::frmt(min(wt))</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt$`median (IQR)`</span></span>
<span><span class="co">## ~qwraps2::median_iqr(wt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt$`mean (sd)`</span></span>
<span><span class="co">## ~qwraps2::mean_sd(wt)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $wt$maximum</span></span>
<span><span class="co">## ~qwraps2::frmt(max(wt))</span></span></code></pre></div>
<p>That default summary is used for a table as follows:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl_factor"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="34%">
<col width="65%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2[, c(“mpg”, “cyl_factor”, “wt”)] (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   minimum</td>
<td align="left">10.40</td>
</tr>
<tr class="odd">
<td align="left">   median (IQR)</td>
<td align="left">19.20 (15.43, 22.80)</td>
</tr>
<tr class="even">
<td align="left">   mean (sd)</td>
<td align="left">20.09 ± 6.03</td>
</tr>
<tr class="odd">
<td align="left">   maximum</td>
<td align="left">33.90</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7 (22)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11 (34)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14 (44)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   minimum</td>
<td align="left">1.51</td>
</tr>
<tr class="even">
<td align="left">   median (IQR)</td>
<td align="left">3.33 (2.58, 3.61)</td>
</tr>
<tr class="odd">
<td align="left">   mean (sd)</td>
<td align="left">3.22 ± 0.98</td>
</tr>
<tr class="even">
<td align="left">   maximum</td>
<td align="left">5.42</td>
</tr>
</tbody>
</table>
<p>Now, say we want to only report the minimum and maximum for each of
the numeric variables and for the categorical variables we want two show
the denominator for each category and for the percentage, to one digit
with the percent symbol in the table. Note that when defining the list
of numeric_summaries that the argument place holder is the
<code>%s%</code> character.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_summary</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/summary_table.html">qsummary</a></span><span class="op">(</span><span class="va">mtcars2</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl_factor"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>           numeric_summaries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Minimum"</span> <span class="op">=</span> <span class="st">"~ min(%s)"</span>,</span>
<span>                                    <span class="st">"Maximum"</span> <span class="op">=</span> <span class="st">"~ max(%s)"</span><span class="op">)</span>,</span>
<span>           n_perc_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span>, show_symbol <span class="op">=</span> <span class="cn">TRUE</span>, show_denom <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">new_summary</span><span class="op">)</span></span>
<span><span class="co">## List of 3</span></span>
<span><span class="co">##  $ mpg       :List of 2</span></span>
<span><span class="co">##   ..$ Minimum:Class 'formula'  language ~min(mpg)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ Maximum:Class 'formula'  language ~max(mpg)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##  $ cyl_factor:List of 3</span></span>
<span><span class="co">##   ..$ 6 cylinders:Class 'formula'  language ~qwraps2::n_perc(cyl_factor == "6 cylinders", digits = 1, show_symbol = TRUE,      show_denom = "always")</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ 4 cylinders:Class 'formula'  language ~qwraps2::n_perc(cyl_factor == "4 cylinders", digits = 1, show_symbol = TRUE,      show_denom = "always")</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ 8 cylinders:Class 'formula'  language ~qwraps2::n_perc(cyl_factor == "8 cylinders", digits = 1, show_symbol = TRUE,      show_denom = "always")</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##  $ wt        :List of 2</span></span>
<span><span class="co">##   ..$ Minimum:Class 'formula'  language ~min(wt)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; </span></span>
<span><span class="co">##   ..$ Maximum:Class 'formula'  language ~max(wt)</span></span>
<span><span class="co">##   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt;</span></span></code></pre></div>
<p>The resulting table is:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summary_table.html">summary_table</a></span><span class="op">(</span><span class="va">mtcars2</span>, <span class="va">new_summary</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">mtcars2 (N = 32)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong>mpg</strong></td>
<td align="left">  </td>
</tr>
<tr class="even">
<td align="left">   Minimum</td>
<td align="left">10.4</td>
</tr>
<tr class="odd">
<td align="left">   Maximum</td>
<td align="left">33.9</td>
</tr>
<tr class="even">
<td align="left"><strong>cyl_factor</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   6 cylinders</td>
<td align="left">7/32 (21.9%)</td>
</tr>
<tr class="even">
<td align="left">   4 cylinders</td>
<td align="left">11/32 (34.4%)</td>
</tr>
<tr class="odd">
<td align="left">   8 cylinders</td>
<td align="left">14/32 (43.8%)</td>
</tr>
<tr class="even">
<td align="left"><strong>wt</strong></td>
<td align="left">  </td>
</tr>
<tr class="odd">
<td align="left">   Minimum</td>
<td align="left">1.513</td>
</tr>
<tr class="even">
<td align="left">   Maximum</td>
<td align="left">5.424</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>, local <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">## R version 4.3.2 (2023-10-31)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] qwraps2_0.6.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] vctrs_0.6.5       cli_3.6.2         knitr_1.45        rlang_1.1.2      </span></span>
<span><span class="co">##  [5] xfun_0.41         stringi_1.8.3     purrr_1.0.2       textshaping_0.3.7</span></span>
<span><span class="co">##  [9] jsonlite_1.8.8    glue_1.6.2        htmltools_0.5.7   ragg_1.2.7       </span></span>
<span><span class="co">## [13] sass_0.4.8        rmarkdown_2.25    evaluate_0.23     jquerylib_0.1.4  </span></span>
<span><span class="co">## [17] fastmap_1.1.1     yaml_2.3.8        lifecycle_1.0.4   memoise_2.0.1    </span></span>
<span><span class="co">## [21] stringr_1.5.1     compiler_4.3.2    fs_1.6.3          Rcpp_1.0.11      </span></span>
<span><span class="co">## [25] systemfonts_1.0.5 digest_0.6.33     R6_2.5.1          magrittr_2.0.3   </span></span>
<span><span class="co">## [29] bslib_0.6.1       tools_4.3.2       pkgdown_2.0.7     cachem_1.0.8     </span></span>
<span><span class="co">## [33] desc_1.4.3</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Peter DeWitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
